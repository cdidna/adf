{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory 이름",
			"defaultValue": "CDI-Hub-ADF-p01"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_AMAZON_REVIEW')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_amazon_review\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "DateTime"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제품 상세페이지 URL']"
													},
													"sink": {
														"name": "product_detail_page_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제품명']"
													},
													"sink": {
														"name": "product_name",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['총 리뷰 개수']"
													},
													"sink": {
														"name": "total_review_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['평점']"
													},
													"sink": {
														"name": "overall_rating",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['리뷰 제목']"
													},
													"sink": {
														"name": "review_title",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['리뷰 작성자']"
													},
													"sink": {
														"name": "review_author",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['리뷰 날짜']"
													},
													"sink": {
														"name": "review_date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['리뷰 국가']"
													},
													"sink": {
														"name": "review_country",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['리뷰 평점']"
													},
													"sink": {
														"name": "review_rating",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['구매 옵션']"
													},
													"sink": {
														"name": "purchase_options",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['리뷰 원문']"
													},
													"sink": {
														"name": "review_text",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['이미지 URLs']"
													},
													"sink": {
														"name": "image_urls",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_amazon_review_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_amazon_review_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_amazon_review_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_CJ_NEWSROOM')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_cj_newsroom_list\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['URL']"
													},
													"sink": {
														"name": "url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제목']"
													},
													"sink": {
														"name": "title",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['날짜']"
													},
													"sink": {
														"name": "date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['조회수']"
													},
													"sink": {
														"name": "view_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['해시태그']"
													},
													"sink": {
														"name": "hashtag",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['원문']"
													},
													"sink": {
														"name": "content",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['이미지URLs']"
													},
													"sink": {
														"name": "image_urls",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_cj_newsroom_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_cj_newsroom_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_cj_newsroom_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_CU')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_cu_push\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "DateTime"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['카테고리']"
													},
													"sink": {
														"name": "category",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['신규여부']"
													},
													"sink": {
														"name": "is_new",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제품명']"
													},
													"sink": {
														"name": "product_name",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['가격']"
													},
													"sink": {
														"name": "price",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제품설명']"
													},
													"sink": {
														"name": "product_desc",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['태그']"
													},
													"sink": {
														"name": "tags",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['이미지URL']"
													},
													"sink": {
														"name": "image_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['상품 URL']"
													},
													"sink": {
														"name": "product_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['노출 순위']"
													},
													"sink": {
														"name": "display_order",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_cu_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_cu_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_cu_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_DBPIA')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_dbpia_list\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "DateTime"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['검색어']"
													},
													"sink": {
														"name": "search_keyword",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['URL']"
													},
													"sink": {
														"name": "url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제목(국문)']"
													},
													"sink": {
														"name": "title_ko",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제목(영문)']"
													},
													"sink": {
														"name": "title_en",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['자료유형']"
													},
													"sink": {
														"name": "document_type",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['저널정보']"
													},
													"sink": {
														"name": "journal_info",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['발행연도']"
													},
													"sink": {
														"name": "publication_date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['수록면']"
													},
													"sink": {
														"name": "page",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['저자정보']"
													},
													"sink": {
														"name": "author",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['이미지URL']"
													},
													"sink": {
														"name": "image_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['연구주제']"
													},
													"sink": {
														"name": "ai_topic",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['연구배경']"
													},
													"sink": {
														"name": "ai_background",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['연구방법']"
													},
													"sink": {
														"name": "ai_method",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['연구결과']"
													},
													"sink": {
														"name": "ai_result",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['초록']"
													},
													"sink": {
														"name": "abstract",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['키워드']"
													},
													"sink": {
														"name": "keyword",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['목차']"
													},
													"sink": {
														"name": "content",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['참고문헌']"
													},
													"sink": {
														"name": "reference",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_dbpia_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_dbpia_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_dbpia_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_GET_SCHEDULE_ID')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Copy data1_copy1",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "JsonSource",
								"storeSettings": {
									"type": "HttpReadSettings",
									"requestMethod": "POST",
									"additionalHeaders": {
										"value": "Content-Type: application/json; version=2",
										"type": "Expression"
									},
									"requestBody": {
										"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"category\": \"9\"}",
										"type": "Expression"
									},
									"requestTimeout": ""
								},
								"formatSettings": {
									"type": "JsonReadSettings"
								}
							},
							"sink": {
								"type": "AzurePostgreSqlSink",
								"writeBatchSize": 1000000,
								"writeBatchTimeout": "00:30:00",
								"preCopyScript": "delete from cd_ods.tb_hash_youtube_comment_t",
								"writeMethod": "CopyCommand"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"mappings": [
									{
										"source": {
											"path": "[['created_at']"
										},
										"sink": {
											"name": "created_at",
											"type": "DateTime"
										}
									},
									{
										"source": {
											"path": "[['검색 url']"
										},
										"sink": {
											"name": "search_url",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['영상 제목']"
										},
										"sink": {
											"name": "video_title",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['채널 이름']"
										},
										"sink": {
											"name": "channel_name",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['작성 시간 (노출된 값)']"
										},
										"sink": {
											"name": "comment_created_at",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['작성 시간(수집일 기준 변환)']"
										},
										"sink": {
											"name": "comment_created_at_converted",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['댓글 작성자']"
										},
										"sink": {
											"name": "comment_author",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['댓글 내용']"
										},
										"sink": {
											"name": "comment_content",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['댓글 좋아요수']"
										},
										"sink": {
											"name": "comment_like_count",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['부모 댓글 uid']"
										},
										"sink": {
											"name": "parent_comment_uid",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['대댓글 순서']"
										},
										"sink": {
											"name": "reply_order",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['구독자수']"
										},
										"sink": {
											"name": "subscriber_count",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['조회수']"
										},
										"sink": {
											"name": "view_count",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['해시태그']"
										},
										"sink": {
											"name": "hashtags",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['본문']"
										},
										"sink": {
											"name": "description",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['video_id']"
										},
										"sink": {
											"name": "video_id",
											"type": "String"
										}
									}
								],
								"collectionReference": "$['data']"
							}
						},
						"inputs": [
							{
								"referenceName": "DTS_API_HASHSCRAPER",
								"type": "DatasetReference",
								"parameters": {
									"url": {
										"value": "@concat('api/get_schedules')",
										"type": "Expression"
									}
								}
							}
						],
						"outputs": [
							{
								"referenceName": "DTS_POSTGRESQL_SNK",
								"type": "DatasetReference",
								"parameters": {
									"SinkSchema": "cd_ods",
									"SinkTable": "tb_hash_youtube_comment_t"
								}
							}
						]
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_GOOGLE_SCHOLAR')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_google_scholar_page\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['검색어']"
													},
													"sink": {
														"name": "search_keyword",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['URL']"
													},
													"sink": {
														"name": "url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제목']"
													},
													"sink": {
														"name": "title",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['저자']"
													},
													"sink": {
														"name": "author",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['학술지']"
													},
													"sink": {
														"name": "journal",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['연도']"
													},
													"sink": {
														"name": "publication_year",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['사이트']"
													},
													"sink": {
														"name": "source",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['초록']"
													},
													"sink": {
														"name": "abstract",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['인용']"
													},
													"sink": {
														"name": "citation_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['파일URL']"
													},
													"sink": {
														"name": "file_url",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_google_scholar_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_google_scholar_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_google_scholar_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_GS25')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_gs_push\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "DateTime"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['구분']"
													},
													"sink": {
														"name": "gubun",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['신규여부']"
													},
													"sink": {
														"name": "is_new",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제품명']"
													},
													"sink": {
														"name": "product_name",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['가격']"
													},
													"sink": {
														"name": "price",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['이미지URL']"
													},
													"sink": {
														"name": "image_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['노출 순서']"
													},
													"sink": {
														"name": "display_order",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_gs25_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_gs25_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_gs25_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_INSTAGRAM')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_instagram_keyword\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "DateTime"
													}
												},
												{
													"source": {
														"path": "[['검색 키워드']"
													},
													"sink": {
														"name": "search_keyword",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['게시물 페이지 URL']"
													},
													"sink": {
														"name": "post_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['본문']"
													},
													"sink": {
														"name": "content",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['해시태그']"
													},
													"sink": {
														"name": "hashtags",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성일자']"
													},
													"sink": {
														"name": "created_at_post",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['좋아요 수']"
													},
													"sink": {
														"name": "like_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['이미지 URL']"
													},
													"sink": {
														"name": "image_urls",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['비디오 URL']"
													},
													"sink": {
														"name": "video_urls",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['댓글 수']"
													},
													"sink": {
														"name": "comment_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['위치']"
													},
													"sink": {
														"name": "location",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성자 ID']"
													},
													"sink": {
														"name": "author_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성자 이름']"
													},
													"sink": {
														"name": "author_name",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성자 프로필 페이지 URL']"
													},
													"sink": {
														"name": "author_profile_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성자 프로필 이미지 URL']"
													},
													"sink": {
														"name": "author_profile_image_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성자 게시물 수']"
													},
													"sink": {
														"name": "author_post_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성자 팔로잉 수']"
													},
													"sink": {
														"name": "author_following_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성자 팔로워 수']"
													},
													"sink": {
														"name": "author_follower_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성자 소개글']"
													},
													"sink": {
														"name": "author_intro",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성자 외부 링크 URL']"
													},
													"sink": {
														"name": "author_external_link_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['오피셜 마크 여부']"
													},
													"sink": {
														"name": "official_mark",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_instagram_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_instagram_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_instagram_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_INSTAGRAM_COMMENT')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_instagram_comments\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "DateTime"
													}
												},
												{
													"source": {
														"path": "[['수집채널']"
													},
													"sink": {
														"name": "collect_channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성자 이름']"
													},
													"sink": {
														"name": "author_name",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성자 URL']"
													},
													"sink": {
														"name": "author_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성일']"
													},
													"sink": {
														"name": "created_date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['본문']"
													},
													"sink": {
														"name": "content",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['좋아요수']"
													},
													"sink": {
														"name": "like_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['POST_URL']"
													},
													"sink": {
														"name": "post_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['대댓글수']"
													},
													"sink": {
														"name": "reply_count",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_instagram_comment_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_instagram_comment_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_instagram_comment_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_KCI')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_kci_list\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['검색어']"
													},
													"sink": {
														"name": "search_keyword",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['URL']"
													},
													"sink": {
														"name": "url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제목(국문)']"
													},
													"sink": {
														"name": "title_ko",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제목(영문)']"
													},
													"sink": {
														"name": "title_en",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['학술지명']"
													},
													"sink": {
														"name": "journal",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['연도']"
													},
													"sink": {
														"name": "publication_year",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['발행정보']"
													},
													"sink": {
														"name": "issue_page",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['발행기관']"
													},
													"sink": {
														"name": "publisher",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['연구분야']"
													},
													"sink": {
														"name": "research_field",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['저자']"
													},
													"sink": {
														"name": "author",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['소속']"
													},
													"sink": {
														"name": "affiliation",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['초록']"
													},
													"sink": {
														"name": "abstract",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['키워드']"
													},
													"sink": {
														"name": "keyword",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['인용 건수']"
													},
													"sink": {
														"name": "citation_count",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_kci_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_kci_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_kci_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_KIPRIS')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_kipris_list\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['검색어']"
													},
													"sink": {
														"name": "search_keyword",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제목(국문명)']"
													},
													"sink": {
														"name": "title_ko",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제목(영문명)']"
													},
													"sink": {
														"name": "title_en",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['IPC']"
													},
													"sink": {
														"name": "ipc_code",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['CPC']"
													},
													"sink": {
														"name": "cpc_code",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['출원번호']"
													},
													"sink": {
														"name": "application_number",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['출원일자']"
													},
													"sink": {
														"name": "application_date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['출원인']"
													},
													"sink": {
														"name": "applicant",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['번역문제출일자']"
													},
													"sink": {
														"name": "translation_sub_date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['등록번호']"
													},
													"sink": {
														"name": "registration_number",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['등록일자']"
													},
													"sink": {
														"name": "registration_date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['공고번호']"
													},
													"sink": {
														"name": "grant_publication_number",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['공고일자']"
													},
													"sink": {
														"name": "grant_publication_date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['국제출원번호']"
													},
													"sink": {
														"name": "international_application_number",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['국제출원일자']"
													},
													"sink": {
														"name": "international_application_date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['국제공개번호']"
													},
													"sink": {
														"name": "international_publication_number",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['국제공개일자']"
													},
													"sink": {
														"name": "international_publication_date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['우선권정보']"
													},
													"sink": {
														"name": "priority_info",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['법적상태']"
													},
													"sink": {
														"name": "legal_status",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['심사진행상태']"
													},
													"sink": {
														"name": "examination_status",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['심판사항']"
													},
													"sink": {
														"name": "trial_info",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['구분']"
													},
													"sink": {
														"name": "application_type",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['원출원번호']"
													},
													"sink": {
														"name": "original_application_number",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['원출원일자']"
													},
													"sink": {
														"name": "original_application_date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['관련 출원번호']"
													},
													"sink": {
														"name": "related_application_number",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['심사청구여부']"
													},
													"sink": {
														"name": "examination_request",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['요약']"
													},
													"sink": {
														"name": "abstract",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['심사청구일자']"
													},
													"sink": {
														"name": "examination_request_date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['심사청구항수']"
													},
													"sink": {
														"name": "examination_request_claim_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['인명정보_출원인1']"
													},
													"sink": {
														"name": "applicant_1",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['인명정보_출원인2']"
													},
													"sink": {
														"name": "applicant_2",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['인명정보_출원인3']"
													},
													"sink": {
														"name": "applicant_3",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['인명정보_출원인4']"
													},
													"sink": {
														"name": "applicant_4",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['인명정보_출원인5']"
													},
													"sink": {
														"name": "applicant_5",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['발명자1']"
													},
													"sink": {
														"name": "inventor_1",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['발명자2']"
													},
													"sink": {
														"name": "inventor_2",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['발명자3']"
													},
													"sink": {
														"name": "inventor_3",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['청구항']"
													},
													"sink": {
														"name": "claims",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['공개번호']"
													},
													"sink": {
														"name": "publication_number",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['공개일자']"
													},
													"sink": {
														"name": "publication_date",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_kipris_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_kipris_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_kipris_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_KISS')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_kiss_list\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['검색어']"
													},
													"sink": {
														"name": "search_keyword",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['URL']"
													},
													"sink": {
														"name": "url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제목']"
													},
													"sink": {
														"name": "title_ko",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제목(영문)']"
													},
													"sink": {
														"name": "title_en",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['저자']"
													},
													"sink": {
														"name": "author",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['소속']"
													},
													"sink": {
														"name": "publisher",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['연도']"
													},
													"sink": {
														"name": "publication_date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['유형']"
													},
													"sink": {
														"name": "journal",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['number']"
													},
													"sink": {
														"name": "issue",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['page']"
													},
													"sink": {
														"name": "page",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['UCI']"
													},
													"sink": {
														"name": "uci",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['DOI']"
													},
													"sink": {
														"name": "doi",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['초록']"
													},
													"sink": {
														"name": "abstract",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['키워드']"
													},
													"sink": {
														"name": "keyword",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['목차']"
													},
													"sink": {
														"name": "content",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['참고문헌']"
													},
													"sink": {
														"name": "reference",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_kiss_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_kiss_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_kiss_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_KURLY')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_kurly_push\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "DateTime"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제품명']"
													},
													"sink": {
														"name": "product_name",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['가격']"
													},
													"sink": {
														"name": "price",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['할인율']"
													},
													"sink": {
														"name": "discount_rate",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['할인가격']"
													},
													"sink": {
														"name": "discount_price",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제품설명']"
													},
													"sink": {
														"name": "product_desc",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['이미지 URL']"
													},
													"sink": {
														"name": "image_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['상품 URL']"
													},
													"sink": {
														"name": "product_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['리뷰수']"
													},
													"sink": {
														"name": "review_count",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_kurly_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_kurly_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_kurly_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_MARTMON')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_martmonster_main\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "DateTime"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['카테고리']"
													},
													"sink": {
														"name": "category",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성자']"
													},
													"sink": {
														"name": "author",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성일시']"
													},
													"sink": {
														"name": "created_at_post",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['수정일시']"
													},
													"sink": {
														"name": "created_at_post_converted",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제목']"
													},
													"sink": {
														"name": "title",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['조회수']"
													},
													"sink": {
														"name": "review_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['추천수']"
													},
													"sink": {
														"name": "recomment_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['본문']"
													},
													"sink": {
														"name": "content",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['이미지 URLs']"
													},
													"sink": {
														"name": "image_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['상세페이지 URL']"
													},
													"sink": {
														"name": "detail_page_url",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_martmon_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_martmon_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_martmon_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_MYCVS')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_mycvs_list\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "DateTime"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['PB여부']"
													},
													"sink": {
														"name": "is_pb",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['편의점명']"
													},
													"sink": {
														"name": "store_name",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제품명']"
													},
													"sink": {
														"name": "product_name",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['가격']"
													},
													"sink": {
														"name": "price",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제품설명']"
													},
													"sink": {
														"name": "product_desc",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['이미지URL']"
													},
													"sink": {
														"name": "image_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['상품URL']"
													},
													"sink": {
														"name": "product_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['노출 순위']"
													},
													"sink": {
														"name": "display_order",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_mycvs_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_mycvs_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_mycvs_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_NAVER_REPORT')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_naver_pay\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "DateTime"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['분류']"
													},
													"sink": {
														"name": "category",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['URL']"
													},
													"sink": {
														"name": "url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제목']"
													},
													"sink": {
														"name": "title",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['증권사']"
													},
													"sink": {
														"name": "securities_firm",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['작성일']"
													},
													"sink": {
														"name": "report_date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['조회수']"
													},
													"sink": {
														"name": "view_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['애널리스트']"
													},
													"sink": {
														"name": "analyst",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['요약내용']"
													},
													"sink": {
														"name": "summary",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_naver_report_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_naver_report_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_naver_report_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_NESTLE_NEWS')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_nestle\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['URL']"
													},
													"sink": {
														"name": "url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제목']"
													},
													"sink": {
														"name": "title",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['날짜']"
													},
													"sink": {
														"name": "date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['조회수']"
													},
													"sink": {
														"name": "view_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['해시태그']"
													},
													"sink": {
														"name": "hashtag",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['원문']"
													},
													"sink": {
														"name": "content",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['이미지URLs']"
													},
													"sink": {
														"name": "image_urls",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_nestle_news_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_nestle_news_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_nestle_news_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_NTIS')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_ntis\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "DateTime"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['순번']"
													},
													"sink": {
														"name": "seq",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['안건명']"
													},
													"sink": {
														"name": "agenda_name",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['심의기구']"
													},
													"sink": {
														"name": "deliberation_body",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['회의체']"
													},
													"sink": {
														"name": "conference_body",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['소관부처']"
													},
													"sink": {
														"name": "main_department",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['기타부처']"
													},
													"sink": {
														"name": "other_department",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['안건유형']"
													},
													"sink": {
														"name": "agenda_type",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['회차']"
													},
													"sink": {
														"name": "session",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['심의일자']"
													},
													"sink": {
														"name": "deliberation_date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['회의결과']"
													},
													"sink": {
														"name": "decision_result",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_ntis_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_ntis_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_ntis_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_TN_NEWS')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_tn_news_list\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['URL']"
													},
													"sink": {
														"name": "url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제목']"
													},
													"sink": {
														"name": "title",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['날짜']"
													},
													"sink": {
														"name": "date",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['조회수']"
													},
													"sink": {
														"name": "view_count",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['해시태그']"
													},
													"sink": {
														"name": "hashtag",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['원문']"
													},
													"sink": {
														"name": "content",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['이미지URLs']"
													},
													"sink": {
														"name": "image_urls",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_tn_news_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_tn_news_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_tn_news_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_HASHSCRAPER_TRADERJOES')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Until1",
						"type": "Until",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@lessOrEquals(variables('copyCount'),99 )\n",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy data1_copy1",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Lookup1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "POST",
												"additionalHeaders": {
													"value": "Content-Type: application/json; version=3",
													"type": "Expression"
												},
												"requestBody": {
													"value": "{\"api_key\": \"d7937c81efbbec118ee8dbc18923d61a\", \"schedule_id\": \"ds_trader_joes_list\", \"next_id\" : \"@{activity('Lookup1').output.firstRow.nxt_id}\"}",
													"type": "Expression"
												},
												"requestTimeout": ""
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSqlSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['id']"
													},
													"sink": {
														"name": "id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['schedule_result_id']"
													},
													"sink": {
														"name": "schedule_result_id",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['created_at']"
													},
													"sink": {
														"name": "created_at",
														"type": "DateTime"
													}
												},
												{
													"source": {
														"path": "[['채널']"
													},
													"sink": {
														"name": "channel",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['카테고리 URL']"
													},
													"sink": {
														"name": "category_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['카테고리']"
													},
													"sink": {
														"name": "category",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제품명']"
													},
													"sink": {
														"name": "product_name",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제품 상세페이지 URL']"
													},
													"sink": {
														"name": "product_detail_page_url",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['가격']"
													},
													"sink": {
														"name": "price",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['제품설명']"
													},
													"sink": {
														"name": "product_description",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['Ingredients']"
													},
													"sink": {
														"name": "ingredients",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['serving size']"
													},
													"sink": {
														"name": "serving_size",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['calories per serving']"
													},
													"sink": {
														"name": "calories_per_serving",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['serves about']"
													},
													"sink": {
														"name": "serves_about",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['Image URLs']"
													},
													"sink": {
														"name": "image_urls",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['data']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_HASHSCRAPER",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('api/get_results_of_schedule')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_traderjoes_t"
											}
										}
									]
								},
								{
									"name": "Set variable1",
									"type": "SetVariable",
									"dependsOn": [
										{
											"activity": "Copy data1_copy1",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "copyCount",
										"value": {
											"value": "@activity('Copy data1_copy1').output.rowsCopied",
											"type": "Expression"
										}
									}
								},
								{
									"name": "Lookup1",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "AzurePostgreSqlSource",
											"query": "select max(id) as nxt_id from cd_ods.tb_hash_traderjoes_t;",
											"partitionOption": "None",
											"queryTimeout": "02:00:00"
										},
										"dataset": {
											"referenceName": "DTS_POSTGRESQL_SNK",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": "cd_ods",
												"SinkTable": "tb_hash_traderjoes_t"
											}
										}
									}
								}
							],
							"timeout": "0.12:00:00"
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"copyCount": {
						"type": "Integer"
					}
				},
				"folder": {
					"name": "Industry/외부/해시스크래퍼"
				},
				"annotations": []
			},
			"dependsOn": []
		}
	]
}