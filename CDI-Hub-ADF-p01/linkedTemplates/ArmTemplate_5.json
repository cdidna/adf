{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory 이름",
			"defaultValue": "CDI-Hub-ADF-p01"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/DF_KODATA_PG_D1')]",
			"type": "Microsoft.DataFactory/factories/dataflows",
			"apiVersion": "2018-06-01",
			"properties": {
				"folder": {
					"name": "Industry/외부/한국평가데이터"
				},
				"type": "MappingDataFlow",
				"typeProperties": {
					"sources": [
						{
							"dataset": {
								"referenceName": "DTS_ADLS_KODATA_D1",
								"type": "DatasetReference"
							},
							"name": "source1",
							"description": "DTS_ADLS_KODATA_D1에서 데이터 가져오기"
						}
					],
					"sinks": [
						{
							"dataset": {
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference"
							},
							"name": "sink1"
						}
					],
					"transformations": [
						{
							"name": "select1"
						},
						{
							"name": "derivedColumn1"
						}
					],
					"scriptLines": [
						"source(output(",
						"          Column_1 as string,",
						"          Column_2 as string,",
						"          Column_3 as string,",
						"          Column_4 as string,",
						"          Column_5 as string,",
						"          Column_6 as string,",
						"          Column_7 as string,",
						"          Column_8 as string,",
						"          Column_9 as string,",
						"          Column_10 as string,",
						"          Column_11 as string,",
						"          Column_12 as string,",
						"          Column_13 as string,",
						"          Column_14 as string,",
						"          Column_15 as string,",
						"          Column_16 as string,",
						"          Column_17 as string,",
						"          Column_18 as string,",
						"          Column_19 as string,",
						"          Column_20 as string,",
						"          Column_21 as string,",
						"          Column_22 as string,",
						"          Column_23 as string,",
						"          Column_24 as string,",
						"          Column_25 as string,",
						"          Column_26 as string,",
						"          Column_27 as string,",
						"          Column_28 as string,",
						"          Column_29 as string,",
						"          Column_30 as string,",
						"          Column_31 as string,",
						"          Column_32 as string,",
						"          Column_33 as string,",
						"          Column_34 as string,",
						"          Column_35 as string,",
						"          Column_36 as string,",
						"          Column_37 as string,",
						"          Column_38 as string,",
						"          Column_39 as string,",
						"          Column_40 as string,",
						"          Column_41 as string,",
						"          Column_42 as string,",
						"          Column_43 as string,",
						"          Column_44 as string,",
						"          Column_45 as string,",
						"          Column_46 as string,",
						"          Column_47 as string,",
						"          Column_48 as string",
						"     ),",
						"     allowSchemaDrift: true,",
						"     validateSchema: false,",
						"     ignoreNoFilesFound: false) ~> source1",
						"source1 select(mapColumn(",
						"          kedcd = Column_1,",
						"          enp_nm = Column_2,",
						"          enp_nm_trd = Column_3,",
						"          enp_nm_eng = Column_4,",
						"          enp_typ = Column_5,",
						"          enp_sze = Column_6,",
						"          grdt_pln_dt = Column_7,",
						"          enp_fcd = Column_8,",
						"          estb_fcd = Column_9,",
						"          enp_scd = Column_10,",
						"          enp_scd_chg_dt = Column_11,",
						"          pubi_fcd = Column_12,",
						"          venp_yn = Column_13,",
						"          enp_form_fr = Column_14,",
						"          bzc_cd = Column_15,",
						"          fs_bzc_cd = Column_16,",
						"          grp_cd = Column_17,",
						"          grp_nm = Column_18,",
						"          cono_pid = Column_19,",
						"          estb_dt = Column_20,",
						"          ipo_cd = Column_21,",
						"          trdbz_rpt_no = Column_22,",
						"          list_dt = Column_23,",
						"          dlist_dt = Column_24,",
						"          mtx_bnk_cd = Column_25,",
						"          mtx_bnk_nm = Column_26,",
						"          ovd_tx_bnk_cd = Column_27,",
						"          ovd_tx_bnk_nm = Column_28,",
						"          acct_eddt = Column_29,",
						"          hpage_url = Column_30,",
						"          email = Column_31,",
						"          std_dt = Column_32,",
						"          bzno = Column_33,",
						"          loc_zip = Column_34,",
						"          loc_addra = Column_35,",
						"          loc_addrb = Column_36,",
						"          tel_no = Column_37,",
						"          fax_no = Column_38,",
						"          laborer_sum = Column_39,",
						"          pd_nm = Column_40,",
						"          ksic9_bzc_cd = Column_41,",
						"          rel_kedcd = Column_42,",
						"          rel_estb_dt = Column_43,",
						"          loc_rdnm_zip = Column_44,",
						"          loc_rdnm_addra = Column_45,",
						"          loc_rdnm_addrb = Column_46,",
						"          loc_rdnm_addrb_conf_yn = Column_47,",
						"          loc_addrb_conf_yn = Column_48",
						"     ),",
						"     skipDuplicateMapInputs: true,",
						"     skipDuplicateMapOutputs: true) ~> select1",
						"select1 derive(enp_nm_n = replace(replace(enp_nm, '\\'', ''),'\"',''),",
						"          enp_nm_trd_n = replace(replace(enp_nm_trd, '\\'', ''),'\"',''),",
						"          enp_nm_eng_n = replace(replace(enp_nm_eng, '\\'', ''),'\"',''),",
						"          mtx_bnk_nm_n = replace(replace(mtx_bnk_nm, '\\'', ''),'\"',''),",
						"          ovd_tx_bnk_nm_n = replace(replace(ovd_tx_bnk_nm, '\\'', ''),'\"',''),",
						"          pd_nm_n = replace(replace(pd_nm, '\\'', ''),'\"','')) ~> derivedColumn1",
						"derivedColumn1 sink(allowSchemaDrift: true,",
						"     validateSchema: false,",
						"     deletable:false,",
						"     insertable:true,",
						"     updateable:false,",
						"     upsertable:false,",
						"     format: 'table',",
						"     skipDuplicateMapInputs: true,",
						"     skipDuplicateMapOutputs: true,",
						"     mapColumn(",
						"          kedcd,",
						"          enp_nm = enp_nm_n,",
						"          enp_nm_trd = enp_nm_trd_n,",
						"          enp_nm_eng = enp_nm_eng_n,",
						"          enp_typ,",
						"          enp_sze,",
						"          grdt_pln_dt,",
						"          enp_fcd,",
						"          estb_fcd,",
						"          enp_scd,",
						"          enp_scd_chg_dt,",
						"          pubi_fcd,",
						"          venp_yn,",
						"          enp_form_fr,",
						"          bzc_cd,",
						"          fs_bzc_cd,",
						"          grp_cd,",
						"          grp_nm,",
						"          cono_pid,",
						"          estb_dt,",
						"          ipo_cd,",
						"          trdbz_rpt_no,",
						"          list_dt,",
						"          dlist_dt,",
						"          mtx_bnk_cd,",
						"          mtx_bnk_nm = mtx_bnk_nm_n,",
						"          ovd_tx_bnk_cd,",
						"          ovd_tx_bnk_nm = ovd_tx_bnk_nm_n,",
						"          acct_eddt,",
						"          hpage_url,",
						"          email,",
						"          std_dt,",
						"          bzno,",
						"          loc_zip,",
						"          loc_addra,",
						"          loc_addrb,",
						"          tel_no,",
						"          fax_no,",
						"          laborer_sum,",
						"          pd_nm = pd_nm_n,",
						"          ksic9_bzc_cd,",
						"          rel_kedcd,",
						"          rel_estb_dt,",
						"          loc_rdnm_zip,",
						"          loc_rdnm_addra,",
						"          loc_rdnm_addrb,",
						"          loc_rdnm_addrb_conf_yn,",
						"          loc_addrb_conf_yn",
						"     )) ~> sink1"
					]
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DF_KODATA_PG_D4')]",
			"type": "Microsoft.DataFactory/factories/dataflows",
			"apiVersion": "2018-06-01",
			"properties": {
				"folder": {
					"name": "Industry/외부/한국평가데이터"
				},
				"type": "MappingDataFlow",
				"typeProperties": {
					"sources": [
						{
							"dataset": {
								"referenceName": "DTS_ADLS_KODATA_D4",
								"type": "DatasetReference"
							},
							"name": "source1",
							"description": "DTS_ADLS_KODATA_D1에서 데이터 가져오기"
						}
					],
					"sinks": [
						{
							"dataset": {
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference"
							},
							"name": "sink1"
						}
					],
					"transformations": [
						{
							"name": "select1"
						},
						{
							"name": "derivedColumn1"
						}
					],
					"scriptLines": [
						"source(output(",
						"          Column_1 as string,",
						"          Column_2 as string,",
						"          Column_3 as string,",
						"          Column_4 as string,",
						"          Column_5 as string,",
						"          Column_6 as string,",
						"          Column_7 as string,",
						"          Column_8 as string,",
						"          Column_9 as string,",
						"          Column_10 as string,",
						"          Column_11 as string,",
						"          Column_12 as string,",
						"          Column_13 as string,",
						"          Column_14 as string,",
						"          Column_15 as string,",
						"          Column_16 as string,",
						"          Column_17 as string,",
						"          Column_18 as string,",
						"          Column_19 as string,",
						"          Column_20 as string,",
						"          Column_21 as string,",
						"          Column_22 as string,",
						"          Column_23 as string,",
						"          Column_24 as string,",
						"          Column_25 as string,",
						"          Column_26 as string,",
						"          Column_27 as string,",
						"          Column_28 as string,",
						"          Column_29 as string,",
						"          Column_30 as string",
						"     ),",
						"     allowSchemaDrift: true,",
						"     validateSchema: false,",
						"     ignoreNoFilesFound: false) ~> source1",
						"source1 select(mapColumn(",
						"          kedcd = Column_1,",
						"          std_dt = Column_2,",
						"          renp_seq = Column_3,",
						"          renp_nm = Column_4,",
						"          cono_pid = Column_5,",
						"          renp_kedcd = Column_6,",
						"          renp_kedcd = Column_7,",
						"          renp_zip = Column_8,",
						"          renp_addra = Column_9,",
						"          renp_addrb = Column_10,",
						"          renp_bzcd_nm = Column_11,",
						"          renp_mpd_nm = Column_12,",
						"          renp_acct_dt = Column_13,",
						"          renp_cap = Column_14,",
						"          renp_taset = Column_15,",
						"          renp_sale_am = Column_16,",
						"          renp_ct_npf = Column_17,",
						"          eqrt = Column_18,",
						"          buy_am = Column_19,",
						"          renp_buy_ript = Column_20,",
						"          sam = Column_21,",
						"          renp_sale_ript = Column_22,",
						"          pgrn_am = Column_23,",
						"          renp_bon_t_amt = Column_24,",
						"          renp_db_t_amt = Column_25,",
						"          rel_ctt = Column_26,",
						"          renp_rdnm_zip = Column_27,",
						"          renp_rdnm_addra = Column_28,",
						"          renp_rdnm_addrb = Column_29,",
						"          renp_rdnm_addrb_conf_yn = Column_30,",
						"          renp_addrb_conf_yn = Column_1",
						"     ),",
						"     skipDuplicateMapInputs: true,",
						"     skipDuplicateMapOutputs: true) ~> select1",
						"select1 derive(rel_ctt_n = replace(replace(rel_ctt, '\\'', ''),'\"','')) ~> derivedColumn1",
						"derivedColumn1 sink(allowSchemaDrift: true,",
						"     validateSchema: false,",
						"     deletable:false,",
						"     insertable:true,",
						"     updateable:false,",
						"     upsertable:false,",
						"     format: 'table',",
						"     skipDuplicateMapInputs: true,",
						"     skipDuplicateMapOutputs: true,",
						"     mapColumn(",
						"          kedcd,",
						"          std_dt,",
						"          renp_seq,",
						"          renp_nm,",
						"          cono_pid,",
						"          renp_kedcd,",
						"          renp_zip,",
						"          renp_addra,",
						"          renp_addrb,",
						"          renp_bzcd_nm,",
						"          renp_mpd_nm,",
						"          renp_acct_dt,",
						"          renp_cap,",
						"          renp_taset,",
						"          renp_sale_am,",
						"          renp_ct_npf,",
						"          eqrt,",
						"          buy_am,",
						"          renp_buy_ript,",
						"          sam,",
						"          renp_sale_ript,",
						"          pgrn_am,",
						"          renp_bon_t_amt,",
						"          renp_db_t_amt,",
						"          rel_ctt = rel_ctt_n,",
						"          renp_rdnm_zip,",
						"          renp_rdnm_addra,",
						"          renp_rdnm_addrb,",
						"          renp_rdnm_addrb_conf_yn",
						"     )) ~> sink1"
					]
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DF_KODATA_PG_D8')]",
			"type": "Microsoft.DataFactory/factories/dataflows",
			"apiVersion": "2018-06-01",
			"properties": {
				"folder": {
					"name": "Industry/외부/한국평가데이터"
				},
				"type": "MappingDataFlow",
				"typeProperties": {
					"sources": [
						{
							"dataset": {
								"referenceName": "DTS_ADLS_KODATA_D8",
								"type": "DatasetReference"
							},
							"name": "source1",
							"description": "DTS_ADLS_KODATA_D8에서 데이터 가져오기"
						}
					],
					"sinks": [
						{
							"dataset": {
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference"
							},
							"name": "sink1"
						}
					],
					"transformations": [
						{
							"name": "select1"
						},
						{
							"name": "derivedColumn1"
						}
					],
					"scriptLines": [
						"source(output(",
						"          Column_1 as string,",
						"          Column_2 as string,",
						"          Column_3 as string,",
						"          Column_4 as string,",
						"          Column_5 as string,",
						"          Column_6 as string,",
						"          Column_7 as string,",
						"          Column_8 as string,",
						"          Column_9 as string,",
						"          Column_10 as string,",
						"          Column_11 as string,",
						"          Column_12 as string,",
						"          Column_13 as string,",
						"          Column_14 as string,",
						"          Column_15 as string,",
						"          Column_16 as string,",
						"          Column_17 as string",
						"     ),",
						"     allowSchemaDrift: true,",
						"     validateSchema: false,",
						"     ignoreNoFilesFound: false) ~> source1",
						"source1 select(mapColumn(",
						"          kedcd = Column_1,",
						"          std_dt = Column_2,",
						"          sth_stt_seq = Column_3,",
						"          sth_ccd = Column_4,",
						"          sth_nm = Column_5,",
						"          kedcd_pcd = Column_6,",
						"          cono_pid = Column_7,",
						"          mdm_rel_cd = Column_8,",
						"          emp_rel_cd = Column_9,",
						"          own_stk_cn = Column_10,",
						"          cstk_cn = Column_11,",
						"          pstk_cn = Column_12,",
						"          eqrt = Column_13,",
						"          cstk_rt = Column_14,",
						"          pstk_rt = Column_15,",
						"          own_stk_am = Column_16,",
						"          rmk = Column_17",
						"     ),",
						"     skipDuplicateMapInputs: true,",
						"     skipDuplicateMapOutputs: true) ~> select1",
						"select1 derive(sth_nm_n = replace(replace(sth_nm, '\\'', ''),'\"',''),",
						"          rmk_n = replace(replace(rmk, '\\'', ''),'\"','')) ~> derivedColumn1",
						"derivedColumn1 sink(allowSchemaDrift: true,",
						"     validateSchema: false,",
						"     deletable:false,",
						"     insertable:true,",
						"     updateable:false,",
						"     upsertable:false,",
						"     format: 'table',",
						"     skipDuplicateMapInputs: true,",
						"     skipDuplicateMapOutputs: true,",
						"     mapColumn(",
						"          kedcd,",
						"          std_dt,",
						"          sth_stt_seq,",
						"          sth_ccd,",
						"          sth_nm = sth_nm_n,",
						"          kedcd_pcd,",
						"          cono_pid,",
						"          mdm_rel_cd,",
						"          emp_rel_cd,",
						"          own_stk_cn,",
						"          cstk_cn,",
						"          pstk_cn,",
						"          eqrt,",
						"          cstk_rt,",
						"          pstk_rt,",
						"          own_stk_am,",
						"          rmk = rmk_n",
						"     )) ~> sink1"
					]
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DTS_ORACLE_SRC')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "LKS_ORA_P01",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"SourceSchema": {
						"type": "string"
					},
					"SourceTable": {
						"type": "string"
					}
				},
				"folder": {
					"name": "Source/Oracle"
				},
				"annotations": [],
				"type": "OracleTable",
				"schema": [],
				"typeProperties": {
					"schema": {
						"value": "@dataset().SourceSchema",
						"type": "Expression"
					},
					"table": {
						"value": "@dataset().SourceTable",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DTS_POSTGRESQL_SNK')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "LKS_PG_P01",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"SinkSchema": {
						"type": "string"
					},
					"SinkTable": {
						"type": "string"
					}
				},
				"folder": {
					"name": "Sink/PostgreSQL"
				},
				"annotations": [],
				"type": "AzurePostgreSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": {
						"value": "@toLower(dataset().SinkSchema)",
						"type": "Expression"
					},
					"table": {
						"value": "@toLower(dataset().SinkTable)",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DF_MKTLINK_PG')]",
			"type": "Microsoft.DataFactory/factories/dataflows",
			"apiVersion": "2018-06-01",
			"properties": {
				"folder": {
					"name": "매출(주문)/외부/유통사MS"
				},
				"type": "MappingDataFlow",
				"typeProperties": {
					"sources": [
						{
							"dataset": {
								"referenceName": "DTS_ADLS_MKTLINK",
								"type": "DatasetReference"
							},
							"name": "source1"
						}
					],
					"sinks": [
						{
							"dataset": {
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference"
							},
							"name": "sink1"
						}
					],
					"transformations": [
						{
							"name": "select1"
						},
						{
							"name": "derivedColumn1"
						}
					],
					"scriptLines": [
						"source(output(",
						"          {카테고리} as string,",
						"          {월별} as string,",
						"          {분기} as string,",
						"          {년도} as string,",
						"          {채널} as string,",
						"          {지역} as string,",
						"          {영업조직} as string,",
						"          ONOFF as string,",
						"          ITEM_DESC as string,",
						"          BARCODE as string,",
						"          MANUFACTURER as string,",
						"          BRAND as string,",
						"          SUB_BRAND as string,",
						"          ATTR01 as string,",
						"          ATTR02 as string,",
						"          ATTR03 as string,",
						"          ATTR04 as string,",
						"          ATTR05 as string,",
						"          ATTR06 as string,",
						"          ATTR07 as string,",
						"          {판매금액} as string,",
						"          {판매물량} as string,",
						"          {판매수량} as string,",
						"          ND as string,",
						"          WD as string,",
						"          {신제품 출시 년월} as string",
						"     ),",
						"     allowSchemaDrift: true,",
						"     validateSchema: false,",
						"     ignoreNoFilesFound: false,",
						"     wildcardPaths:['매출(주문)/외부/유통사MS정보/마켓링크/유통사 MS 데이터_마켓링크_20????.csv']) ~> source1",
						"source1 select(mapColumn(",
						"          category = {카테고리},",
						"          month = {월별},",
						"          qter = {분기},",
						"          year = {년도},",
						"          ch = {채널},",
						"          region = {지역},",
						"          salesorg = {영업조직},",
						"          onoff = ONOFF,",
						"          item_desc = ITEM_DESC,",
						"          barcode = BARCODE,",
						"          manufacturer = MANUFACTURER,",
						"          brand = BRAND,",
						"          sub_brand = SUB_BRAND,",
						"          attr01 = ATTR01,",
						"          attr02 = ATTR02,",
						"          attr03 = ATTR03,",
						"          attr04 = ATTR04,",
						"          attr05 = ATTR05,",
						"          sales_amt = {판매금액},",
						"          sales_qtm = {판매물량},",
						"          sales_qty = {판매수량},",
						"          nd = ND,",
						"          wd = WD,",
						"          newproduct_date = {신제품 출시 년월},",
						"          attr06 = ATTR06,",
						"          attr07 = ATTR07",
						"     ),",
						"     skipDuplicateMapInputs: true,",
						"     skipDuplicateMapOutputs: true) ~> select1",
						"select1 derive(yyyymm = replace(substring(toString(currentDate()),1,7),'-',''),",
						"          crt_date = currentDate(),",
						"          newproduct_yyyymm = replace(replace(newproduct_date,'년 ',''),'월','')) ~> derivedColumn1",
						"derivedColumn1 sink(allowSchemaDrift: true,",
						"     validateSchema: false,",
						"     deletable:false,",
						"     insertable:true,",
						"     updateable:false,",
						"     upsertable:false,",
						"     format: 'table',",
						"     skipDuplicateMapInputs: true,",
						"     skipDuplicateMapOutputs: true,",
						"     mapColumn(",
						"          category,",
						"          month,",
						"          qter,",
						"          year,",
						"          ch,",
						"          region,",
						"          salesorg,",
						"          onoff,",
						"          item_desc,",
						"          barcode,",
						"          manufacturer,",
						"          brand,",
						"          sub_brand,",
						"          attr01,",
						"          attr02,",
						"          attr03,",
						"          attr04,",
						"          attr05,",
						"          sales_amt,",
						"          sales_qtm,",
						"          sales_qty,",
						"          nd,",
						"          wd,",
						"          newproduct_date,",
						"          yyyymm,",
						"          crt_date,",
						"          newproduct_yyyymm,",
						"          attr06,",
						"          attr07",
						"     )) ~> sink1"
					]
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DF_MKTLINK_PG_NEW')]",
			"type": "Microsoft.DataFactory/factories/dataflows",
			"apiVersion": "2018-06-01",
			"properties": {
				"folder": {
					"name": "매출(주문)/외부/유통사MS"
				},
				"type": "MappingDataFlow",
				"typeProperties": {
					"sources": [
						{
							"dataset": {
								"referenceName": "DTS_ADLS_MKTLINK",
								"type": "DatasetReference"
							},
							"name": "source1"
						}
					],
					"sinks": [
						{
							"dataset": {
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference"
							},
							"name": "sink1"
						}
					],
					"transformations": [
						{
							"name": "select1"
						},
						{
							"name": "derivedColumn1"
						}
					],
					"scriptLines": [
						"source(output(",
						"          {카테고리} as string,",
						"          {월별} as string,",
						"          {분기} as string,",
						"          {년도} as string,",
						"          {채널} as string,",
						"          {지역} as string,",
						"          {영업조직} as string,",
						"          ONOFF as string,",
						"          ITEM_DESC as string,",
						"          BARCODE as string,",
						"          MANUFACTURER as string,",
						"          BRAND as string,",
						"          SUB_BRAND as string,",
						"          ATTR01 as string,",
						"          ATTR02 as string,",
						"          ATTR03 as string,",
						"          ATTR04 as string,",
						"          ATTR05 as string,",
						"          {판매금액} as string,",
						"          {판매물량} as string,",
						"          {판매수량} as string,",
						"          ND as string,",
						"          WD as string,",
						"          {신제품 출시 년월} as string",
						"     ),",
						"     allowSchemaDrift: true,",
						"     validateSchema: false,",
						"     ignoreNoFilesFound: false,",
						"     wildcardPaths:['매출(주문)/외부/유통사MS정보/마켓링크/유통사 MS 데이터_마켓링크_20????_신규카테고리.csv']) ~> source1",
						"source1 select(mapColumn(",
						"          category = {카테고리},",
						"          month = {월별},",
						"          qter = {분기},",
						"          year = {년도},",
						"          ch = {채널},",
						"          region = {지역},",
						"          salesorg = {영업조직},",
						"          onoff = ONOFF,",
						"          item_desc = ITEM_DESC,",
						"          barcode = BARCODE,",
						"          manufacturer = MANUFACTURER,",
						"          brand = BRAND,",
						"          sub_brand = SUB_BRAND,",
						"          attr01 = ATTR01,",
						"          attr02 = ATTR02,",
						"          attr03 = ATTR03,",
						"          attr04 = ATTR04,",
						"          attr05 = ATTR05,",
						"          sales_amt = {판매금액},",
						"          sales_qtm = {판매물량},",
						"          sales_qty = {판매수량},",
						"          nd = ND,",
						"          wd = WD,",
						"          newproduct_date = {신제품 출시 년월}",
						"     ),",
						"     skipDuplicateMapInputs: true,",
						"     skipDuplicateMapOutputs: true) ~> select1",
						"select1 derive(yyyymm = replace(substring(toString(currentDate()),1,7),'-',''),",
						"          crt_date = currentDate(),",
						"          newproduct_yyyymm = replace(replace(newproduct_date,'년 ',''),'월','')) ~> derivedColumn1",
						"derivedColumn1 sink(allowSchemaDrift: true,",
						"     validateSchema: false,",
						"     deletable:false,",
						"     insertable:true,",
						"     updateable:false,",
						"     upsertable:false,",
						"     format: 'table',",
						"     skipDuplicateMapInputs: true,",
						"     skipDuplicateMapOutputs: true,",
						"     mapColumn(",
						"          category,",
						"          month,",
						"          qter,",
						"          year,",
						"          ch,",
						"          region,",
						"          salesorg,",
						"          onoff,",
						"          item_desc,",
						"          barcode,",
						"          manufacturer,",
						"          brand,",
						"          sub_brand,",
						"          attr01,",
						"          attr02,",
						"          attr03,",
						"          attr04,",
						"          attr05,",
						"          sales_amt,",
						"          sales_qtm,",
						"          sales_qty,",
						"          nd,",
						"          wd,",
						"          newproduct_date,",
						"          yyyymm,",
						"          crt_date,",
						"          newproduct_yyyymm",
						"     )) ~> sink1"
					]
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_INDUSTRY_APIS_AGRI_WEATHER')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "수요기관정보조회",
				"activities": [
					{
						"name": "set obsr_Spot_Code",
						"description": "관측지점코",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "obsr_Spot_Code",
							"value": {
								"value": "@pipeline().parameters.obsr_Sopt_Code",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set end_Date",
						"description": "종료일",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "end_Date",
							"value": {
								"value": "@pipeline().parameters.end_Date",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set begin_Date",
						"description": "시작일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "begin_Date",
							"value": {
								"value": "@pipeline().parameters.begin_Date",
								"type": "Expression"
							}
						}
					},
					{
						"name": "Copy data1_copy1_copy1_copy1",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "Lookup1",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "XmlSource",
								"additionalColumns": [
									{
										"name": "obsr_spot_code_s",
										"value": {
											"value": "@variables('obsr_Spot_Code')",
											"type": "Expression"
										}
									}
								],
								"storeSettings": {
									"type": "HttpReadSettings",
									"requestMethod": "GET"
								},
								"formatSettings": {
									"type": "XmlReadSettings",
									"validationMode": "none",
									"namespaces": true
								}
							},
							"sink": {
								"type": "AzurePostgreSQLSink",
								"writeBatchSize": 1000000,
								"writeBatchTimeout": "00:30:00",
								"writeMethod": "CopyCommand"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"mappings": [
									{
										"source": {
											"path": "[['obsr_Spot_Nm']"
										},
										"sink": {
											"name": "obsr_spot_nm",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['date_Time']"
										},
										"sink": {
											"name": "date_time",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['tmprt_150']"
										},
										"sink": {
											"name": "tmprt_150",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['tmprt_150Top']"
										},
										"sink": {
											"name": "tmprt_150top",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['tmprt_150Lwet']"
										},
										"sink": {
											"name": "tmprt_150lwet",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['tmprt_50']"
										},
										"sink": {
											"name": "tmprt_50",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['tmprt_50Top']"
										},
										"sink": {
											"name": "tmprt_50top",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['tmprt_50Lwet']"
										},
										"sink": {
											"name": "tmprt_50lwet",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['tmprt_400']"
										},
										"sink": {
											"name": "tmprt_400",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['tmprt_400Top']"
										},
										"sink": {
											"name": "tmprt_400top",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['tmprt_400Lwet']"
										},
										"sink": {
											"name": "tmprt_400lwet",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['hd_150']"
										},
										"sink": {
											"name": "hd_150",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['hd_50']"
										},
										"sink": {
											"name": "hd_50",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['hd_400']"
										},
										"sink": {
											"name": "hd_400",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['wd_300']"
										},
										"sink": {
											"name": "wd_300",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['wd_150']"
										},
										"sink": {
											"name": "wd_150",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['wd_1000']"
										},
										"sink": {
											"name": "wd_1000",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['arvlty_300']"
										},
										"sink": {
											"name": "arvlty_300",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['arvlty_150']"
										},
										"sink": {
											"name": "arvlty_150",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['arvlty_1000']"
										},
										"sink": {
											"name": "arvlty_1000",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['afp']"
										},
										"sink": {
											"name": "afp",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['afv']"
										},
										"sink": {
											"name": "afv",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['sunshn_Time']"
										},
										"sink": {
											"name": "sunshn_time",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['solrad_Qy']"
										},
										"sink": {
											"name": "solrad_qy",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['dwcn_Time']"
										},
										"sink": {
											"name": "dwcn_time",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['pnwg_Tp']"
										},
										"sink": {
											"name": "pnwg_tp",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['frfr_Tp']"
										},
										"sink": {
											"name": "frfr_tp",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['udgr_Heatt_Cndctvt']"
										},
										"sink": {
											"name": "udgr_heatt_cndctvt",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['udgr_Tp_10']"
										},
										"sink": {
											"name": "udgr_tp_10",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['udgr_Tp_5']"
										},
										"sink": {
											"name": "udgr_tp_5",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['udgr_Tp_20']"
										},
										"sink": {
											"name": "udgr_tp_20",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['soil_Mitr_10']"
										},
										"sink": {
											"name": "soil_mitr_10",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['soil_Mitr_10Cmst']"
										},
										"sink": {
											"name": "soil_mitr_10cmst",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['soil_Mitr_20']"
										},
										"sink": {
											"name": "soil_mitr_20",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['soil_Mitr_20Cmst']"
										},
										"sink": {
											"name": "soil_mitr_20cmst",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['soil_Mitr_30']"
										},
										"sink": {
											"name": "soil_mitr_30",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['soil_Mitr_30Cmst']"
										},
										"sink": {
											"name": "soil_mitr_30cmst",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['obsr_spot_code_s']"
										},
										"sink": {
											"name": "obsr_spot_code",
											"type": "String"
										}
									}
								],
								"collectionReference": "$['response']['body']['items']['item']",
								"mapComplexValuesToString": false
							}
						},
						"inputs": [
							{
								"referenceName": "DTS_API_APIS_XML",
								"type": "DatasetReference",
								"parameters": {
									"url": {
										"value": "@concat('/1390802/AgriWeather/WeatherObsrInfo/InsttWeather/getWeatherTermDayList?serviceKey=rj5HeIJYh3E2HRvmEw3P3%2BeVDZoZj074w7IIt%2BpcAaujPSI9CTx0U88XSd6C9eWwkBMUncCaG4w%2FtYRT898jcw%3D%3D&Page_No=1&Page_Size=100&begin_Date=',variables('begin_Date'),'&end_Date=',variables('end_Date'),'&obsr_Spot_Code=',variables('obsr_Spot_Code'))",
										"type": "Expression"
									}
								}
							}
						],
						"outputs": [
							{
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference",
								"parameters": {
									"SinkSchema": {
										"value": "@pipeline().parameters.SinkSchema",
										"type": "Expression"
									},
									"SinkTable": {
										"value": "@pipeline().parameters.SinkTable",
										"type": "Expression"
									}
								}
							}
						]
					},
					{
						"name": "Lookup1",
						"type": "Lookup",
						"dependsOn": [
							{
								"activity": "set obsr_Spot_Code",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set end_Date",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set begin_Date",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzurePostgreSqlSource",
								"query": {
									"value": "delete from  cd_ods.tb_apis_agri_weather_t      \n WHERE  date_time BETWEEN '@{variables('begin_Date')}' AND '@{variables('end_Date')}'\n and obsr_Spot_Code = '@{variables('obsr_Spot_Code')}'\n ;\n \nselect 1 as success",
									"type": "Expression"
								},
								"partitionOption": "None"
							},
							"dataset": {
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference",
								"parameters": {
									"SinkSchema": "1",
									"SinkTable": "1"
								}
							}
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"parameters": {
					"SinkSchema": {
						"type": "string",
						"defaultValue": "cd_ods"
					},
					"SinkTable": {
						"type": "string",
						"defaultValue": "tb_apis_agri_weather_t"
					},
					"obsr_Sopt_Code": {
						"type": "string"
					},
					"end_Date": {
						"type": "string"
					},
					"begin_Date": {
						"type": "string"
					}
				},
				"variables": {
					"date": {
						"type": "String"
					},
					"url": {
						"type": "String"
					},
					"obsr_Spot_Code": {
						"type": "String"
					},
					"begin_Date": {
						"type": "String"
					},
					"end_Date": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Industry/외부/국립농업과학원"
				},
				"annotations": [],
				"lastPublishTime": "2023-01-16T07:55:39Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_INDUSTRY_APIS_AGRI_WEATHER_SPOT_CODE')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "수요기관정보조회",
				"activities": [
					{
						"name": "Copy data1_copy1",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "XmlSource",
								"storeSettings": {
									"type": "HttpReadSettings",
									"requestMethod": "GET"
								},
								"formatSettings": {
									"type": "XmlReadSettings",
									"validationMode": "none",
									"namespaces": true
								}
							},
							"sink": {
								"type": "AzurePostgreSQLSink",
								"writeBatchSize": 1000000,
								"writeBatchTimeout": "00:30:00",
								"writeMethod": "CopyCommand"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"mappings": [
									{
										"source": {
											"path": "[['Obsr_Spot_Code']"
										},
										"sink": {
											"name": "obsr_spot_code",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['Obsr_Spot_Nm']"
										},
										"sink": {
											"name": "obsr_spot_nm",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['Do_Se_Code']"
										},
										"sink": {
											"name": "do_se_code",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['Mgc_Code']"
										},
										"sink": {
											"name": "mgc_code",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['Clmt_Zone_Code']"
										},
										"sink": {
											"name": "clmt_zone_code",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['Comm_Mthd_Code']"
										},
										"sink": {
											"name": "comm_mthd_code",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['Instl_La']"
										},
										"sink": {
											"name": "instl_la",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['Instl_Lo']"
										},
										"sink": {
											"name": "instl_lo",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['Instl_Al']"
										},
										"sink": {
											"name": "instl_al",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['Instl_Adres']"
										},
										"sink": {
											"name": "instl_adres",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['Obsr_Begin_Datetm']"
										},
										"sink": {
											"name": "obsr_begin_datetm",
											"type": "String"
										}
									}
								],
								"collectionReference": "$['response']['body']['items']['item']",
								"mapComplexValuesToString": false
							}
						},
						"inputs": [
							{
								"referenceName": "DTS_API_APIS_XML",
								"type": "DatasetReference",
								"parameters": {
									"url": {
										"value": "@concat('/1390802/AgriWeather/getObsrSpotList?serviceKey=rj5HeIJYh3E2HRvmEw3P3%2BeVDZoZj074w7IIt%2BpcAaujPSI9CTx0U88XSd6C9eWwkBMUncCaG4w%2FtYRT898jcw%3D%3D&Page_No=2&Page_Size=200')",
										"type": "Expression"
									}
								}
							}
						],
						"outputs": [
							{
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference",
								"parameters": {
									"SinkSchema": {
										"value": "@pipeline().parameters.SinkSchema",
										"type": "Expression"
									},
									"SinkTable": {
										"value": "@pipeline().parameters.SinkTable",
										"type": "Expression"
									}
								}
							}
						]
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"parameters": {
					"SinkSchema": {
						"type": "string",
						"defaultValue": "cd_ods"
					},
					"SinkTable": {
						"type": "string",
						"defaultValue": "tb_apis_agri_weather_spot_code_t"
					}
				},
				"variables": {
					"date": {
						"type": "String"
					},
					"url": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Industry/외부/국립농업과학원"
				},
				"annotations": [],
				"lastPublishTime": "2023-01-16T07:55:39Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_INDUSTRY_APIS_COUNTRYBASICLIST')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "외교부 국가별 기본정보",
				"activities": [
					{
						"name": "Copy data1",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "XmlSource",
								"storeSettings": {
									"type": "HttpReadSettings",
									"requestMethod": "GET"
								},
								"formatSettings": {
									"type": "XmlReadSettings",
									"validationMode": "none",
									"namespaces": true
								}
							},
							"sink": {
								"type": "AzurePostgreSQLSink",
								"writeBatchSize": 1000000,
								"writeBatchTimeout": "00:30:00",
								"writeMethod": "CopyCommand"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"mappings": [
									{
										"source": {
											"path": "[['basic']"
										},
										"sink": {
											"name": "basic",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['continent']"
										},
										"sink": {
											"name": "continent",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['countryEnName']"
										},
										"sink": {
											"name": "countryenname",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['countryName']"
										},
										"sink": {
											"name": "countryname",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['id']"
										},
										"sink": {
											"name": "id",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['imgUrl']"
										},
										"sink": {
											"name": "imgurl",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['wrtDt']"
										},
										"sink": {
											"name": "wrtdt",
											"type": "String"
										}
									}
								],
								"collectionReference": "$['response']['body']['items']['item']",
								"mapComplexValuesToString": false
							}
						},
						"inputs": [
							{
								"referenceName": "DTS_API_APIS_XML",
								"type": "DatasetReference",
								"parameters": {
									"url": {
										"value": "@concat('/1262000/CountryBasicService/getCountryBasicList?ServiceKey=rj5HeIJYh3E2HRvmEw3P3%2BeVDZoZj074w7IIt%2BpcAaujPSI9CTx0U88XSd6C9eWwkBMUncCaG4w%2FtYRT898jcw%3D%3D&numOfRows=1000')",
										"type": "Expression"
									}
								}
							}
						],
						"outputs": [
							{
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference",
								"parameters": {
									"SinkSchema": {
										"value": "@pipeline().parameters.SinkSchema",
										"type": "Expression"
									},
									"SinkTable": {
										"value": "@pipeline().parameters.SinkTable",
										"type": "Expression"
									}
								}
							}
						]
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"parameters": {
					"SinkSchema": {
						"type": "string",
						"defaultValue": "cd_ods"
					},
					"SinkTable": {
						"type": "string",
						"defaultValue": "tb_apis_countrybasiclist"
					}
				},
				"variables": {
					"date": {
						"type": "String"
					},
					"url": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Industry/외부/외교부"
				},
				"annotations": [],
				"lastPublishTime": "2023-01-16T07:55:39Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_INDUSTRY_APIS_ItemtradeList')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "수요기관정보조회",
				"activities": [
					{
						"name": "Lookup1",
						"type": "Lookup",
						"dependsOn": [],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzurePostgreSqlSource",
								"query": "select * from cd_ods.tb_apis_itemtradelist_master_t \nwhere hscode = '2005991000';",
								"partitionOption": "None"
							},
							"dataset": {
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference",
								"parameters": {
									"SinkSchema": {
										"value": "@pipeline().parameters.SinkSchema",
										"type": "Expression"
									},
									"SinkTable": {
										"value": "@pipeline().parameters.SinkTable",
										"type": "Expression"
									}
								}
							},
							"firstRowOnly": false
						}
					},
					{
						"name": "ForEach1",
						"type": "ForEach",
						"dependsOn": [
							{
								"activity": "Lookup1",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"items": {
								"value": "@activity('Lookup1').output.value",
								"type": "Expression"
							},
							"isSequential": true,
							"activities": [
								{
									"name": "Copy data1",
									"type": "Copy",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "XmlSource",
											"additionalColumns": [
												{
													"name": "hscode_master",
													"value": {
														"value": "@item().hscode",
														"type": "Expression"
													}
												}
											],
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "GET"
											},
											"formatSettings": {
												"type": "XmlReadSettings",
												"validationMode": "none",
												"namespaces": true
											}
										},
										"sink": {
											"type": "AzurePostgreSQLSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['balPayments']"
													},
													"sink": {
														"name": "balpayments",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['expDlr']"
													},
													"sink": {
														"name": "expdlr",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['expWgt']"
													},
													"sink": {
														"name": "expwgt",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['hsCode']"
													},
													"sink": {
														"name": "hscode",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['impDlr']"
													},
													"sink": {
														"name": "impdlr",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['impWgt']"
													},
													"sink": {
														"name": "impwgt",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['statKor']"
													},
													"sink": {
														"name": "statkor",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['year']"
													},
													"sink": {
														"name": "year",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['hscode_master']"
													},
													"sink": {
														"name": "hscode_master",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['response']['body']['items']['item']",
											"mapComplexValuesToString": false
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_APIS_XML",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('/1220000/Itemtrade/getItemtradeList?serviceKey=rj5HeIJYh3E2HRvmEw3P3%2BeVDZoZj074w7IIt%2BpcAaujPSI9CTx0U88XSd6C9eWwkBMUncCaG4w%2FtYRT898jcw%3D%3D&strtYymm=202101&endYymm=202112&hsSgn=',item().hscode)",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK_P02",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": {
													"value": "@pipeline().parameters.SinkSchema",
													"type": "Expression"
												},
												"SinkTable": {
													"value": "@pipeline().parameters.SinkTable",
													"type": "Expression"
												}
											}
										}
									]
								}
							]
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"parameters": {
					"SinkSchema": {
						"type": "string",
						"defaultValue": "cd_ods"
					},
					"SinkTable": {
						"type": "string",
						"defaultValue": "tb_apis_itemtradelist_t"
					}
				},
				"variables": {
					"date": {
						"type": "String"
					},
					"url": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Industry/외부/관세청"
				},
				"annotations": [],
				"lastPublishTime": "2023-01-16T07:55:39Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_INDUSTRY_APIS_KIMCHI_MATERIAL_WEATHER_LONG')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "수요기관정보조회",
				"activities": [
					{
						"name": "set regId",
						"description": "종료일",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "regId",
							"value": {
								"value": "@pipeline().parameters.regId",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set tmFc",
						"description": "시작일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "tmFc",
							"value": {
								"value": "@pipeline().parameters.tmFc",
								"type": "Expression"
							}
						}
					},
					{
						"name": "Copy data1_copy1_copy1_copy1",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "set regId",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set tmFc",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set item_code",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set obsr_spot_code",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "XmlSource",
								"additionalColumns": [
									{
										"name": "item_code",
										"value": {
											"value": "@variables('item_code')",
											"type": "Expression"
										}
									},
									{
										"name": "obsr_spot_code",
										"value": {
											"value": "@variables('obsr_spot_code')",
											"type": "Expression"
										}
									}
								],
								"storeSettings": {
									"type": "HttpReadSettings",
									"requestMethod": "GET"
								},
								"formatSettings": {
									"type": "XmlReadSettings",
									"validationMode": "none",
									"namespaces": true
								}
							},
							"sink": {
								"type": "AzurePostgreSQLSink",
								"writeBatchSize": 1000000,
								"writeBatchTimeout": "00:30:00",
								"writeMethod": "CopyCommand"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"mappings": [
									{
										"source": {
											"path": "$['response']['body']['items']['item']['taMin3']"
										},
										"sink": {
											"name": "tamin3",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['items']['item']['taMax3']"
										},
										"sink": {
											"name": "tamax3",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['items']['item']['taMin4']"
										},
										"sink": {
											"name": "tamin4",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['items']['item']['taMax4']"
										},
										"sink": {
											"name": "tamax4",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['items']['item']['taMin5']"
										},
										"sink": {
											"name": "tamin5",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['items']['item']['taMax5']"
										},
										"sink": {
											"name": "tamax5",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['items']['item']['taMin6']"
										},
										"sink": {
											"name": "tamin6",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['items']['item']['taMax6']"
										},
										"sink": {
											"name": "tamax6",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['items']['item']['taMin7']"
										},
										"sink": {
											"name": "tamin7",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['items']['item']['taMax7']"
										},
										"sink": {
											"name": "tamax7",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['item_code']"
										},
										"sink": {
											"name": "item_code",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['obsr_spot_code']"
										},
										"sink": {
											"name": "obsr_spot_code",
											"type": "String"
										}
									}
								],
								"collectionReference": "",
								"mapComplexValuesToString": false
							}
						},
						"inputs": [
							{
								"referenceName": "DTS_API_APIS_XML",
								"type": "DatasetReference",
								"parameters": {
									"url": {
										"value": "@concat('/1360000/MidFcstInfoService/getMidTa?serviceKey=rj5HeIJYh3E2HRvmEw3P3%2BeVDZoZj074w7IIt%2BpcAaujPSI9CTx0U88XSd6C9eWwkBMUncCaG4w%2FtYRT898jcw%3D%3D&pageNo=1&numOfRows=100&dataType=XML&tmFc=',variables('tmFc'),'&base_time=0800&regId=',variables('regId'))",
										"type": "Expression"
									}
								}
							}
						],
						"outputs": [
							{
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference",
								"parameters": {
									"SinkSchema": {
										"value": "@pipeline().parameters.SinkSchema",
										"type": "Expression"
									},
									"SinkTable": {
										"value": "@pipeline().parameters.SinkTable",
										"type": "Expression"
									}
								}
							}
						]
					},
					{
						"name": "set obsr_spot_code",
						"description": "시작일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "obsr_spot_code",
							"value": {
								"value": "@pipeline().parameters.obsr_spot_code",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set item_code",
						"description": "시작일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "item_code",
							"value": {
								"value": "@pipeline().parameters.item_code",
								"type": "Expression"
							}
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"parameters": {
					"SinkSchema": {
						"type": "string",
						"defaultValue": "cd_ods"
					},
					"SinkTable": {
						"type": "string",
						"defaultValue": "tb_kimchi_material_weather_long_t"
					},
					"regId": {
						"type": "string"
					},
					"tmFc": {
						"type": "string"
					},
					"obsr_spot_code": {
						"type": "string"
					},
					"item_code": {
						"type": "string"
					}
				},
				"variables": {
					"date": {
						"type": "String"
					},
					"url": {
						"type": "String"
					},
					"tmFc": {
						"type": "String"
					},
					"regId": {
						"type": "String"
					},
					"obsr_spot_code": {
						"type": "String"
					},
					"item_code": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Industry/외부/국립농업과학원"
				},
				"annotations": [],
				"lastPublishTime": "2023-01-16T07:55:39Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_INDUSTRY_APIS_KIMCHI_MATERIAL_WEATHER_SHORT')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "수요기관정보조회",
				"activities": [
					{
						"name": "set y",
						"description": "관측지점코",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "y",
							"value": {
								"value": "@pipeline().parameters.y",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set x",
						"description": "종료일",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "x",
							"value": {
								"value": "@pipeline().parameters.x",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set base_date",
						"description": "시작일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "base_date",
							"value": {
								"value": "@pipeline().parameters.base_date",
								"type": "Expression"
							}
						}
					},
					{
						"name": "Copy data1_copy1_copy1_copy1",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "set y",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set x",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set base_date",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set item_code",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set obsr_spot_code",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "XmlSource",
								"additionalColumns": [
									{
										"name": "item_code",
										"value": {
											"value": "@variables('item_code')",
											"type": "Expression"
										}
									},
									{
										"name": "obsr_spot_code",
										"value": {
											"value": "@variables('obsr_spot_code')",
											"type": "Expression"
										}
									}
								],
								"storeSettings": {
									"type": "HttpReadSettings",
									"requestMethod": "GET"
								},
								"formatSettings": {
									"type": "XmlReadSettings",
									"validationMode": "none",
									"namespaces": true
								}
							},
							"sink": {
								"type": "AzurePostgreSQLSink",
								"writeBatchSize": 1000000,
								"writeBatchTimeout": "00:30:00",
								"writeMethod": "CopyCommand"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"mappings": [
									{
										"source": {
											"path": "[['category']"
										},
										"sink": {
											"name": "category",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['fcstDate']"
										},
										"sink": {
											"name": "fcstdate",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['fcstTime']"
										},
										"sink": {
											"name": "fcsttime",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "[['fcstValue']"
										},
										"sink": {
											"name": "fcstvalue",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['item_code']"
										},
										"sink": {
											"name": "item_code",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['obsr_spot_code']"
										},
										"sink": {
											"name": "obsr_spot_code",
											"type": "String"
										}
									}
								],
								"collectionReference": "$['response']['body']['items']['item']",
								"mapComplexValuesToString": false
							}
						},
						"inputs": [
							{
								"referenceName": "DTS_API_APIS_XML",
								"type": "DatasetReference",
								"parameters": {
									"url": {
										"value": "@concat('/1360000/VilageFcstInfoService_2.0/getVilageFcst?serviceKey=rj5HeIJYh3E2HRvmEw3P3%2BeVDZoZj074w7IIt%2BpcAaujPSI9CTx0U88XSd6C9eWwkBMUncCaG4w%2FtYRT898jcw%3D%3D&pageNo=1&numOfRows=1000&dataType=XML&base_date=',variables('base_date'),'&base_time=0800&nx=',variables('x'),'&ny=',variables('y'))",
										"type": "Expression"
									}
								}
							}
						],
						"outputs": [
							{
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference",
								"parameters": {
									"SinkSchema": {
										"value": "@pipeline().parameters.SinkSchema",
										"type": "Expression"
									},
									"SinkTable": {
										"value": "@pipeline().parameters.SinkTable",
										"type": "Expression"
									}
								}
							}
						]
					},
					{
						"name": "set obsr_spot_code",
						"description": "시작일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "obsr_spot_code",
							"value": {
								"value": "@pipeline().parameters.obsr_spot_code",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set item_code",
						"description": "시작일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "item_code",
							"value": {
								"value": "@pipeline().parameters.item_code",
								"type": "Expression"
							}
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"parameters": {
					"SinkSchema": {
						"type": "string",
						"defaultValue": "cd_ods"
					},
					"SinkTable": {
						"type": "string",
						"defaultValue": "tb_kimchi_material_weather_t"
					},
					"y": {
						"type": "string"
					},
					"x": {
						"type": "string"
					},
					"base_date": {
						"type": "string"
					},
					"obsr_spot_code": {
						"type": "string"
					},
					"item_code": {
						"type": "string"
					}
				},
				"variables": {
					"date": {
						"type": "String"
					},
					"url": {
						"type": "String"
					},
					"y": {
						"type": "String"
					},
					"base_date": {
						"type": "String"
					},
					"x": {
						"type": "String"
					},
					"obsr_spot_code": {
						"type": "String"
					},
					"item_code": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Industry/외부/국립농업과학원"
				},
				"annotations": [],
				"lastPublishTime": "2023-01-16T07:55:39Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_INDUSTRY_APIS_KOTRA_OVERSEAS_MARKETNEWS')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "수요기관정보조회",
				"activities": [
					{
						"name": "ForEach1",
						"type": "ForEach",
						"dependsOn": [
							{
								"activity": "get page",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"items": {
								"value": "@range(1  \n      ,add(\n             div(\n                  int(activity('get page').output.firstRow.response.body.totalCnt) \n                 ,int(pipeline().parameters.one_page_row)                  \n                )\n            ,if(\n                greater(\n                        mod(\n                            int(activity('get page').output.firstRow.response.body.totalCnt) \n                        ,int(pipeline().parameters.one_page_row)   \n                            )\n                       ,0\n                       )\n                ,1,0\n            )           \n       )\n)",
								"type": "Expression"
							},
							"isSequential": false,
							"batchCount": 20,
							"activities": [
								{
									"name": "Copy data1",
									"type": "Copy",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 5,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "GET"
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSQLSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['cmdltNmKorn']"
													},
													"sink": {
														"name": "cmdltnmkorn",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['newsTitl']"
													},
													"sink": {
														"name": "newstitl",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['kotraNewsUrl']"
													},
													"sink": {
														"name": "kotranewsurl",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['jobSeNm']"
													},
													"sink": {
														"name": "jobsenm",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['hsCdNm']"
													},
													"sink": {
														"name": "hscdnm",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['dataType']"
													},
													"sink": {
														"name": "datatype",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['kwrd']"
													},
													"sink": {
														"name": "kwrd",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['cmdltNmEng']"
													},
													"sink": {
														"name": "cmdltnmeng",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['regn']"
													},
													"sink": {
														"name": "regn",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['cntntSumar']"
													},
													"sink": {
														"name": "cntntsumar",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['indstCl']"
													},
													"sink": {
														"name": "indstcl",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['indstCdList']"
													},
													"sink": {
														"name": "indstcdlist",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['newsBdt']"
													},
													"sink": {
														"name": "newsbdt",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['ovrofInfo']"
													},
													"sink": {
														"name": "ovrofinfo",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['othbcDt']"
													},
													"sink": {
														"name": "othbcdt",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['bbstxSn']"
													},
													"sink": {
														"name": "bbstxsn",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['newsWrterNm']"
													},
													"sink": {
														"name": "newswrternm",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['bbsSn']"
													},
													"sink": {
														"name": "bbssn",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['infoCl']"
													},
													"sink": {
														"name": "infocl",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['natn']"
													},
													"sink": {
														"name": "natn",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['response']['body']['itemList']['item']",
											"mapComplexValuesToString": false
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_APIS",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('/B410001/kotra_overseasMarketNews/ovseaMrktNews/ovseaMrktNews?ServiceKey=rj5HeIJYh3E2HRvmEw3P3%2BeVDZoZj074w7IIt%2BpcAaujPSI9CTx0U88XSd6C9eWwkBMUncCaG4w%2FtYRT898jcw%3D%3D&type=json&search5=I001193&pageNo=',item(),'&numOfRows=',pipeline().parameters.one_page_row, '&search4=',variables('stYmd'),'&search7=',variables('edYmd'))",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK_P02",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": {
													"value": "@pipeline().parameters.SinkSchema",
													"type": "Expression"
												},
												"SinkTable": {
													"value": "@pipeline().parameters.SinkTable",
													"type": "Expression"
												}
											}
										}
									]
								}
							]
						}
					},
					{
						"name": "get page",
						"description": "대표 제품의 생성 기간동안 토탈 건수 ",
						"type": "Lookup",
						"dependsOn": [
							{
								"activity": "Set stYmd",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "Set edYmd",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 5,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "JsonSource",
								"storeSettings": {
									"type": "HttpReadSettings",
									"requestMethod": "GET"
								},
								"formatSettings": {
									"type": "JsonReadSettings"
								}
							},
							"dataset": {
								"referenceName": "DTS_API_APIS",
								"type": "DatasetReference",
								"parameters": {
									"url": {
										"value": "@concat('/B410001/kotra_overseasMarketNews/ovseaMrktNews/ovseaMrktNews?ServiceKey=rj5HeIJYh3E2HRvmEw3P3%2BeVDZoZj074w7IIt%2BpcAaujPSI9CTx0U88XSd6C9eWwkBMUncCaG4w%2FtYRT898jcw%3D%3D&numOfRows=1&pageNo=1&type=json&search5=I001193&search4=',variables('stYmd'),'&search7=',variables('edYmd'))",
										"type": "Expression"
									}
								}
							}
						}
					},
					{
						"name": "Set stYmd",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "stYmd",
							"value": {
								"value": "@concat(formatDateTime(adddays(addHours(utcNow(), 9), 0), 'yyyyMMdd'))",
								"type": "Expression"
							}
						}
					},
					{
						"name": "Set edYmd",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "edYmd",
							"value": {
								"value": "@concat(formatDateTime(adddays(addHours(utcNow(), 9), 0), 'yyyyMMdd'))",
								"type": "Expression"
							}
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"parameters": {
					"SinkSchema": {
						"type": "string",
						"defaultValue": "cd_ods"
					},
					"SinkTable": {
						"type": "string",
						"defaultValue": "tb_apis_kotra_overseas_marketnews"
					},
					"serviceKey": {
						"type": "string",
						"defaultValue": "rj5HeIJYh3E2HRvmEw3P3%2BeVDZoZj074w7IIt%2BpcAaujPSI9CTx0U88XSd6C9eWwkBMUncCaG4w%2FtYRT898jcw%3D%3D"
					},
					"one_page_row": {
						"type": "string",
						"defaultValue": "10"
					}
				},
				"variables": {
					"stYmd": {
						"type": "String"
					},
					"edYmd": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Industry/외부/KOTRA"
				},
				"annotations": [],
				"lastPublishTime": "2023-01-16T07:55:39Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_INDUSTRY_APIS_NationtradeList')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "수요기관정보조회",
				"activities": [
					{
						"name": "Lookup1",
						"type": "Lookup",
						"dependsOn": [],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzurePostgreSqlSource",
								"query": "select * from cd_ods.tb_apis_nationtrade_statcd_master_t; ",
								"partitionOption": "None"
							},
							"dataset": {
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference",
								"parameters": {
									"SinkSchema": {
										"value": "@pipeline().parameters.SinkSchema",
										"type": "Expression"
									},
									"SinkTable": {
										"value": "@pipeline().parameters.SinkTable",
										"type": "Expression"
									}
								}
							},
							"firstRowOnly": false
						}
					},
					{
						"name": "ForEach1",
						"type": "ForEach",
						"dependsOn": [
							{
								"activity": "Lookup1",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"items": {
								"value": "@activity('Lookup1').output.value",
								"type": "Expression"
							},
							"isSequential": true,
							"activities": [
								{
									"name": "Copy data1",
									"type": "Copy",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "XmlSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "GET"
											},
											"formatSettings": {
												"type": "XmlReadSettings",
												"validationMode": "none",
												"namespaces": true
											}
										},
										"sink": {
											"type": "AzurePostgreSQLSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['balPayments']"
													},
													"sink": {
														"name": "balpayments",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['expCnt']"
													},
													"sink": {
														"name": "expcnt",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['expDlr']"
													},
													"sink": {
														"name": "expdlr",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['impCnt']"
													},
													"sink": {
														"name": "impcnt",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['impDlr']"
													},
													"sink": {
														"name": "impdlr",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['statCd']"
													},
													"sink": {
														"name": "statcd",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['statCdCntnKor1']"
													},
													"sink": {
														"name": "statcdcntnkor1",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['year']"
													},
													"sink": {
														"name": "year",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['response']['body']['items']['item']",
											"mapComplexValuesToString": false
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_APIS_XML",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('/1220000/nationtrade/getNationtradeList?&serviceKey=rj5HeIJYh3E2HRvmEw3P3%2BeVDZoZj074w7IIt%2BpcAaujPSI9CTx0U88XSd6C9eWwkBMUncCaG4w%2FtYRT898jcw%3D%3D&&strtYymm=202101&endYymm=202112&cntyCd=',item().statcd)",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK_P02",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": {
													"value": "@pipeline().parameters.SinkSchema",
													"type": "Expression"
												},
												"SinkTable": {
													"value": "@pipeline().parameters.SinkTable",
													"type": "Expression"
												}
											}
										}
									]
								}
							]
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"parameters": {
					"SinkSchema": {
						"type": "string",
						"defaultValue": "cd_ods"
					},
					"SinkTable": {
						"type": "string",
						"defaultValue": "tb_apis_nationaltradelist_t"
					}
				},
				"variables": {
					"date": {
						"type": "String"
					},
					"url": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Industry/외부/관세청"
				},
				"annotations": [],
				"lastPublishTime": "2023-01-16T07:55:39Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_INDUSTRY_APIS_NitemtradeList')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "수요기관정보조회",
				"activities": [
					{
						"name": "Lookup1",
						"type": "Lookup",
						"dependsOn": [],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzurePostgreSqlSource",
								"query": "select a.statcd, b.strtYymm, b.endYymm\nfrom cd_ods.tb_apis_nationtrade_statcd_master_t a,\n (\nselect  to_char(now() - interval '1 month' * 12,'yyyymm') as strtYymm      \n        ,to_char(now() - interval '1 month' * 1,'yyyymm') as endYymm                                                                \n) b\n; ",
								"partitionOption": "None"
							},
							"dataset": {
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference",
								"parameters": {
									"SinkSchema": {
										"value": "@pipeline().parameters.SinkSchema",
										"type": "Expression"
									},
									"SinkTable": {
										"value": "@pipeline().parameters.SinkTable",
										"type": "Expression"
									}
								}
							},
							"firstRowOnly": false
						}
					},
					{
						"name": "ForEach1",
						"type": "ForEach",
						"dependsOn": [
							{
								"activity": "Lookup1",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"items": {
								"value": "@activity('Lookup1').output.value",
								"type": "Expression"
							},
							"isSequential": false,
							"batchCount": 50,
							"activities": [
								{
									"name": "Copy data1",
									"type": "Copy",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "XmlSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "GET"
											},
											"formatSettings": {
												"type": "XmlReadSettings",
												"validationMode": "none",
												"namespaces": true
											}
										},
										"sink": {
											"type": "AzurePostgreSQLSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['balPayments']"
													},
													"sink": {
														"name": "balpayments",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['expDlr']"
													},
													"sink": {
														"name": "expdlr",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['expWgt']"
													},
													"sink": {
														"name": "expwgt",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['hsCd']"
													},
													"sink": {
														"name": "hscd",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['impDlr']"
													},
													"sink": {
														"name": "impdlr",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['impWgt']"
													},
													"sink": {
														"name": "impwgt",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['statCd']"
													},
													"sink": {
														"name": "statcd",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['statCdCntnKor1']"
													},
													"sink": {
														"name": "statcdcntnkor1",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['statKor']"
													},
													"sink": {
														"name": "statkor",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['year']"
													},
													"sink": {
														"name": "year",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['response']['body']['items']['item']",
											"mapComplexValuesToString": false
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_APIS_XML",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('/1220000/nitemtrade/getNitemtradeList?serviceKey=rj5HeIJYh3E2HRvmEw3P3%2BeVDZoZj074w7IIt%2BpcAaujPSI9CTx0U88XSd6C9eWwkBMUncCaG4w%2FtYRT898jcw%3D%3D&hsSgn=2005991000&strtYymm=',item().strtYymm,'&endYymm=',item().endYymm,'&cntyCd=',item().statcd)",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK_P02",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": {
													"value": "@pipeline().parameters.SinkSchema",
													"type": "Expression"
												},
												"SinkTable": {
													"value": "@pipeline().parameters.SinkTable",
													"type": "Expression"
												}
											}
										}
									]
								}
							]
						}
					},
					{
						"name": "Lookup1_copy1",
						"type": "Lookup",
						"dependsOn": [
							{
								"activity": "ForEach1",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzurePostgreSqlSource",
								"query": "SELECT cd_ods.fn_apis_nitemtrade();",
								"partitionOption": "None"
							},
							"dataset": {
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference",
								"parameters": {
									"SinkSchema": "1",
									"SinkTable": "1"
								}
							},
							"firstRowOnly": false
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"parameters": {
					"SinkSchema": {
						"type": "string",
						"defaultValue": "cd_ods"
					},
					"SinkTable": {
						"type": "string",
						"defaultValue": "tb_apis_nitemtrade_temp"
					}
				},
				"variables": {
					"date": {
						"type": "String"
					},
					"url": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Industry/외부/관세청"
				},
				"annotations": [],
				"lastPublishTime": "2023-01-16T07:55:39Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_INDUSTRY_APIS_RETRIEVE_TRIF_FXRTINFO')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "수요기관정보조회",
				"activities": [
					{
						"name": "Lookup1",
						"type": "Lookup",
						"dependsOn": [],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzurePostgreSqlSource",
								"query": " WITH v_seq AS \n (\n \tselect   generate_series( '1', '5', 1  ) AS num \n )\n select  to_char(to_date(c.max_date,'YYYYMMDD') + interval '7 day' * a.num,'YYYYMMDD') as date, b.b_num as weekFxrtTpcd      \nFROM v_seq a, (SELECT UNNEST (ARRAY['1','2'] ) AS b_num )b,\n(select  max(aplybgndt) AS max_date FROM cd_ods.tb_apis_retrieve_trif_fxrtinfo) c\n;",
								"partitionOption": "None"
							},
							"dataset": {
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference",
								"parameters": {
									"SinkSchema": {
										"value": "@pipeline().parameters.SinkSchema",
										"type": "Expression"
									},
									"SinkTable": {
										"value": "@pipeline().parameters.SinkTable",
										"type": "Expression"
									}
								}
							},
							"firstRowOnly": false
						}
					},
					{
						"name": "ForEach1",
						"type": "ForEach",
						"dependsOn": [
							{
								"activity": "Lookup1",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"items": {
								"value": "@activity('Lookup1').output.value",
								"type": "Expression"
							},
							"isSequential": false,
							"batchCount": 50,
							"activities": [
								{
									"name": "Copy data1",
									"type": "Copy",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 5,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "XmlSource",
											"additionalColumns": [
												{
													"name": "date",
													"value": {
														"value": "@item().date",
														"type": "Expression"
													}
												}
											],
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "GET"
											},
											"formatSettings": {
												"type": "XmlReadSettings",
												"validationMode": "none",
												"namespaces": true
											}
										},
										"sink": {
											"type": "AzurePostgreSQLSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['aplyBgnDt']"
													},
													"sink": {
														"name": "aplybgndt",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['cntySgn']"
													},
													"sink": {
														"name": "cntysgn",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['currSgn']"
													},
													"sink": {
														"name": "currsgn",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['fxrt']"
													},
													"sink": {
														"name": "fxrt",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['imexTp']"
													},
													"sink": {
														"name": "imextp",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['mtryUtNm']"
													},
													"sink": {
														"name": "mtryutnm",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['date']"
													},
													"sink": {
														"name": "date",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['response']['body']['items']['item']",
											"mapComplexValuesToString": false
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_APIS_XML",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('1220000/retrieveTrifFxrtInfo/getRetrieveTrifFxrtInfo?&serviceKey=rj5HeIJYh3E2HRvmEw3P3%2BeVDZoZj074w7IIt%2BpcAaujPSI9CTx0U88XSd6C9eWwkBMUncCaG4w%2FtYRT898jcw%3D%3D&aplyBgnDt=',item().date,'&weekFxrtTpcd=',item().weekFxrtTpcd)",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK_P02",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": {
													"value": "@pipeline().parameters.SinkSchema",
													"type": "Expression"
												},
												"SinkTable": {
													"value": "@pipeline().parameters.SinkTable",
													"type": "Expression"
												}
											}
										}
									]
								}
							]
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"parameters": {
					"SinkSchema": {
						"type": "string",
						"defaultValue": "cd_ods"
					},
					"SinkTable": {
						"type": "string",
						"defaultValue": "tb_apis_retrieve_trif_fxrtinfo"
					}
				},
				"variables": {
					"date": {
						"type": "String"
					},
					"url": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Industry/외부/관세청"
				},
				"annotations": [],
				"lastPublishTime": "2023-01-16T07:55:39Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_INDUSTRY_ATFIS_CONSUMPTION_BASIC')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "수요기관정보조회",
				"activities": [
					{
						"name": "Lookup1",
						"type": "Lookup",
						"dependsOn": [],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzurePostgreSqlSource",
								"query": "select * from cd_ods.tb_atfis_cnsmpmtral_master;",
								"partitionOption": "None"
							},
							"dataset": {
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference",
								"parameters": {
									"SinkSchema": {
										"value": "@pipeline().parameters.SinkSchema",
										"type": "Expression"
									},
									"SinkTable": {
										"value": "@pipeline().parameters.SinkTable",
										"type": "Expression"
									}
								}
							},
							"firstRowOnly": false
						}
					},
					{
						"name": "ForEach1",
						"type": "ForEach",
						"dependsOn": [
							{
								"activity": "Lookup1",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"items": {
								"value": "@activity('Lookup1').output.value",
								"type": "Expression"
							},
							"isSequential": false,
							"batchCount": 50,
							"activities": [
								{
									"name": "Copy data1",
									"type": "Copy",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "GET"
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSQLSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "$['cnsmpYear']"
													},
													"sink": {
														"name": "cnsmpyear",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['cnsmpCd']"
													},
													"sink": {
														"name": "cnsmpcd",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['cnsmpMtralUpperNm']"
													},
													"sink": {
														"name": "cnsmpmtraluppernm",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['cnsmpMtralNm']"
													},
													"sink": {
														"name": "cnsmpmtralnm",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['cnsmpTotUsgqty']"
													},
													"sink": {
														"name": "cnsmptotusgqty",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['cnsmpLocalusgqty']"
													},
													"sink": {
														"name": "cnsmplocalusgqty",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['cnsmpImportUsgqty']"
													},
													"sink": {
														"name": "cnsmpimportusgqty",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['cnsmpLocalRelimp']"
													},
													"sink": {
														"name": "cnsmplocalrelimp",
														"type": "String"
													}
												}
											],
											"collectionReference": "",
											"mapComplexValuesToString": false
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_AFTIS",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('/home/api/consumption/basic.do?apiKey=z9JeRfaB44up466XHs+5pTcV31n58LqRkSHZ8H66xbw=&cnsmpMtralCd=',item().code,\n'&beginYear=2014&endYear=2023')",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK_P02",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": {
													"value": "@pipeline().parameters.SinkSchema",
													"type": "Expression"
												},
												"SinkTable": {
													"value": "@pipeline().parameters.SinkTable",
													"type": "Expression"
												}
											}
										}
									]
								}
							]
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"parameters": {
					"SinkSchema": {
						"type": "string",
						"defaultValue": "cd_ods"
					},
					"SinkTable": {
						"type": "string",
						"defaultValue": "tb_atfis_consumption_basic"
					}
				},
				"variables": {
					"date": {
						"type": "String"
					},
					"url": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Industry/외부/식품산업통계정보"
				},
				"annotations": [],
				"lastPublishTime": "2023-01-16T07:55:39Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_INDUSTRY_D2B_COMPETITION_BID_RESULT_COMPANY_LIST')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "수요기관정보조회",
				"activities": [
					{
						"name": "set demandyear",
						"description": "당일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "demandyear",
							"value": {
								"value": "@pipeline().parameters.pipdemandyear",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set dcsno",
						"description": "당일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "dcsno",
							"value": {
								"value": "@pipeline().parameters.pipdcsno",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set orntcode",
						"description": "당일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "orntcode",
							"value": {
								"value": "@pipeline().parameters.piporntcode",
								"type": "Expression"
							}
						}
					},
					{
						"name": "get totalcount",
						"type": "Lookup",
						"dependsOn": [
							{
								"activity": "set demandyear",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set dcsno",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set orntcode",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set opengdate",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set iemno",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "JsonSource",
								"storeSettings": {
									"type": "HttpReadSettings",
									"requestMethod": "GET"
								},
								"formatSettings": {
									"type": "JsonReadSettings"
								}
							},
							"dataset": {
								"referenceName": "DTS_API_D2B",
								"type": "DatasetReference",
								"parameters": {
									"url": {
										"value": "@concat('/openapi/service/BidResultInfoServicegetDmstcCmpetBidResultMnufList','?_type=json&pageNo=1&numOfRows=1&demandYear=',variables('demandyear'),'&dcsNo=',variables('dcsno'),'&orntCode=',variables('orntcode'),'&iemNo=',variables('iemno'),'&opengDate=',variables('opengdate'))",
										"type": "Expression"
									}
								}
							}
						}
					},
					{
						"name": "set opengdate",
						"description": "당일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "opengdate",
							"value": {
								"value": "@pipeline().parameters.pipopengdate",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set iemno",
						"description": "당일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "iemno",
							"value": {
								"value": "@pipeline().parameters.pipiemno",
								"type": "Expression"
							}
						}
					},
					{
						"name": "If Condition1_copy1_copy1",
						"type": "IfCondition",
						"dependsOn": [
							{
								"activity": "get totalcount",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@greaterOrEquals(activity('get totalcount').output.firstRow.response.body.totalCount, 2)",
								"type": "Expression"
							},
							"ifFalseActivities": [
								{
									"name": "Copy data2_copy1_copy2",
									"type": "Copy",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"additionalColumns": [
												{
													"name": "demandyear",
													"value": {
														"value": "@variables('demandyear')",
														"type": "Expression"
													}
												},
												{
													"name": "dcsno",
													"value": {
														"value": "@variables('dcsno')",
														"type": "Expression"
													}
												},
												{
													"name": "orntcode",
													"value": {
														"value": "@variables('orntcode')",
														"type": "Expression"
													}
												},
												{
													"name": "iemno",
													"value": {
														"value": "@variables('iemno')",
														"type": "Expression"
													}
												},
												{
													"name": "opengdate",
													"value": {
														"value": "@variables('opengdate')",
														"type": "Expression"
													}
												}
											],
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "GET"
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSQLSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "$['response']['body']['items']['item']['bidnQnty']"
													},
													"sink": {
														"name": "bidnqnty",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['bidnRank']"
													},
													"sink": {
														"name": "bidnrank",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['bidnRate']"
													},
													"sink": {
														"name": "bidnrate",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['bidnRslt']"
													},
													"sink": {
														"name": "bidnrslt",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['bidxDegr']"
													},
													"sink": {
														"name": "bidxdegr",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['bidxNote']"
													},
													"sink": {
														"name": "bidxnote",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['bznsRgnb']"
													},
													"sink": {
														"name": "bznsrgnb",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['gpsTime']"
													},
													"sink": {
														"name": "gpstime",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['mfkrName']"
													},
													"sink": {
														"name": "mfkrname",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['middScor']"
													},
													"sink": {
														"name": "middscor",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['mnufCode']"
													},
													"sink": {
														"name": "mnufcode",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['pqcmDivs']"
													},
													"sink": {
														"name": "pqcmdivs",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['rptrKore']"
													},
													"sink": {
														"name": "rptrkore",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['tbidAmnt']"
													},
													"sink": {
														"name": "tbidamnt",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['tbidLepr']"
													},
													"sink": {
														"name": "tbidlepr",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['tbidQnty']"
													},
													"sink": {
														"name": "tbidqnty",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['tbidUtpr']"
													},
													"sink": {
														"name": "tbidutpr",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "$['response']['body']['items']['item']['totaScor']"
													},
													"sink": {
														"name": "totascor",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "$['demandyear']"
													},
													"sink": {
														"name": "demandyear",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['dcsno']"
													},
													"sink": {
														"name": "dcsno",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['orntcode']"
													},
													"sink": {
														"name": "orntcode",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['iemno']"
													},
													"sink": {
														"name": "iemno",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['opengdate']"
													},
													"sink": {
														"name": "opengdate",
														"type": "String"
													}
												}
											],
											"collectionReference": ""
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_D2B",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('/openapi/service/BidResultInfoService/getDmstcCmpetBidResultMnufList?demandYear=',variables('demandyear'),'&orntCode=',variables('orntcode'),'&dcsNo=',variables('dcsno'),'&iemNo=',variables('iemno'),'&opengDate=',variables('opengdate'),'&_type=json','&numOfRows=', activity('get totalcount').output.firstRow.response.body.totalCount)",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK_P02",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": {
													"value": "@pipeline().parameters.SinkSchema",
													"type": "Expression"
												},
												"SinkTable": {
													"value": "@pipeline().parameters.SinkTable",
													"type": "Expression"
												}
											}
										}
									]
								}
							],
							"ifTrueActivities": [
								{
									"name": "Copy data2_copy1_copy1_copy1",
									"type": "Copy",
									"dependsOn": [],
									"policy": {
										"timeout": "0.12:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "JsonSource",
											"additionalColumns": [
												{
													"name": "demandyear",
													"value": {
														"value": "@variables('demandyear')",
														"type": "Expression"
													}
												},
												{
													"name": "dcsno",
													"value": {
														"value": "@variables('dcsno')",
														"type": "Expression"
													}
												},
												{
													"name": "orntcode",
													"value": {
														"value": "@variables('orntcode')",
														"type": "Expression"
													}
												},
												{
													"name": "iemno",
													"value": {
														"value": "@variables('iemno')",
														"type": "Expression"
													}
												},
												{
													"name": "opengdate",
													"value": {
														"value": "@variables('opengdate')",
														"type": "Expression"
													}
												}
											],
											"storeSettings": {
												"type": "HttpReadSettings",
												"requestMethod": "GET"
											},
											"formatSettings": {
												"type": "JsonReadSettings"
											}
										},
										"sink": {
											"type": "AzurePostgreSQLSink",
											"writeBatchSize": 1000000,
											"writeBatchTimeout": "00:30:00",
											"writeMethod": "CopyCommand"
										},
										"enableStaging": false,
										"translator": {
											"type": "TabularTranslator",
											"mappings": [
												{
													"source": {
														"path": "[['bidnQnty']"
													},
													"sink": {
														"name": "bidnqnty",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "[['bidnRank']"
													},
													"sink": {
														"name": "bidnrank",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['bidnRate']"
													},
													"sink": {
														"name": "bidnrate",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "[['bidnRslt']"
													},
													"sink": {
														"name": "bidnrslt",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['bidxDegr']"
													},
													"sink": {
														"name": "bidxdegr",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['bidxNote']"
													},
													"sink": {
														"name": "bidxnote",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['bznsRgnb']"
													},
													"sink": {
														"name": "bznsrgnb",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['gpsTime']"
													},
													"sink": {
														"name": "gpstime",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['mfkrName']"
													},
													"sink": {
														"name": "mfkrname",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['middScor']"
													},
													"sink": {
														"name": "middscor",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "[['mnufCode']"
													},
													"sink": {
														"name": "mnufcode",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['pqcmDivs']"
													},
													"sink": {
														"name": "pqcmdivs",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['rptrKore']"
													},
													"sink": {
														"name": "rptrkore",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "[['tbidAmnt']"
													},
													"sink": {
														"name": "tbidamnt",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "[['tbidLepr']"
													},
													"sink": {
														"name": "tbidlepr",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "[['tbidQnty']"
													},
													"sink": {
														"name": "tbidqnty",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "[['tbidUtpr']"
													},
													"sink": {
														"name": "tbidutpr",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "[['totaScor']"
													},
													"sink": {
														"name": "totascor",
														"type": "Decimal"
													}
												},
												{
													"source": {
														"path": "$['demandyear']"
													},
													"sink": {
														"name": "demandyear",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['dcsno']"
													},
													"sink": {
														"name": "dcsno",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['orntcode']"
													},
													"sink": {
														"name": "orntcode",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['iemno']"
													},
													"sink": {
														"name": "iemno",
														"type": "String"
													}
												},
												{
													"source": {
														"path": "$['opengdate']"
													},
													"sink": {
														"name": "opengdate",
														"type": "String"
													}
												}
											],
											"collectionReference": "$['response']['body']['items']['item']"
										}
									},
									"inputs": [
										{
											"referenceName": "DTS_API_D2B",
											"type": "DatasetReference",
											"parameters": {
												"url": {
													"value": "@concat('/openapi/service/BidResultInfoService/getDmstcCmpetBidResultMnufList?demandYear=',variables('demandyear'),'&orntCode=',variables('orntcode'),'&dcsNo=',variables('dcsno'),'&iemNo=',variables('iemno'),'&opengDate=',variables('opengdate'),'&_type=json','&numOfRows=',activity('get totalcount').output.firstRow.response.body.totalCount)",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "DTS_POSTGRESQL_SNK_P02",
											"type": "DatasetReference",
											"parameters": {
												"SinkSchema": {
													"value": "@pipeline().parameters.SinkSchema",
													"type": "Expression"
												},
												"SinkTable": {
													"value": "@pipeline().parameters.SinkTable",
													"type": "Expression"
												}
											}
										}
									]
								}
							]
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"parameters": {
					"Apikey": {
						"type": "string",
						"defaultValue": "W26gwh49fADZe9fVLqkaAlzn5IPh6n9jf9FCHkThIs6UDblFv46xFoLaNzl011vFX8daAemoPlw4BubABfFBRg%3D%3D"
					},
					"service": {
						"type": "string",
						"defaultValue": "/openapi/service/BidResultInfoServicegetDmstcCmpetBidResultMnufList"
					},
					"SinkSchema": {
						"type": "string",
						"defaultValue": "cd_ods"
					},
					"SinkTable": {
						"type": "string",
						"defaultValue": "tb_d2b_competition_bid_result_company_list"
					},
					"pipdemandyear": {
						"type": "string"
					},
					"pipdcsno": {
						"type": "string"
					},
					"piporntcode": {
						"type": "string"
					},
					"pipiemno": {
						"type": "string"
					},
					"pipopengdate": {
						"type": "string"
					}
				},
				"variables": {
					"demandyear": {
						"type": "String"
					},
					"dcsno": {
						"type": "String"
					},
					"orntcode": {
						"type": "String"
					},
					"iemno": {
						"type": "String"
					},
					"opengdate": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Industry/외부/방위사업청"
				},
				"annotations": [],
				"lastPublishTime": "2023-01-16T07:55:39Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIP_API_INDUSTRY_D2B_COMPETITION_BID_RESULT_DETAIL')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "수요기관정보조회",
				"activities": [
					{
						"name": "set demandyear",
						"description": "당일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "demandyear",
							"value": {
								"value": "@pipeline().parameters.pipdemandyear",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set dcsno",
						"description": "당일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "dcsno",
							"value": {
								"value": "@pipeline().parameters.pipdcsno",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set orntcode",
						"description": "당일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "orntcode",
							"value": {
								"value": "@pipeline().parameters.piporntcode",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set pblancord",
						"description": "당일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "pblancodr",
							"value": {
								"value": "@pipeline().parameters.pippblancodr",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set iemno",
						"description": "당일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "iemno",
							"value": {
								"value": "@pipeline().parameters.pipiemno",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set opengdate",
						"description": "당일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "opengdate",
							"value": {
								"value": "@pipeline().parameters.pipopengdate",
								"type": "Expression"
							}
						}
					},
					{
						"name": "set pblancno",
						"description": "당일자",
						"type": "SetVariable",
						"dependsOn": [],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "pblancno",
							"value": {
								"value": "@pipeline().parameters.pippblancno",
								"type": "Expression"
							}
						}
					},
					{
						"name": "Copy data4",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "set demandyear",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set dcsno",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set orntcode",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set iemno",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set opengdate",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set pblancord",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "set pblancno",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "JsonSource",
								"storeSettings": {
									"type": "HttpReadSettings",
									"requestMethod": "GET"
								},
								"formatSettings": {
									"type": "JsonReadSettings"
								}
							},
							"sink": {
								"type": "AzurePostgreSQLSink",
								"writeBatchSize": 1000000,
								"writeBatchTimeout": "00:30:00",
								"writeMethod": "CopyCommand"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"mappings": [
									{
										"source": {
											"path": "$['response']['body']['item']['asessRtLwlt']"
										},
										"sink": {
											"name": "asessrtlwlt",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['asessRtUplmt']"
										},
										"sink": {
											"name": "asessrtuplmt",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['bidMth']"
										},
										"sink": {
											"name": "bidmth",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['bidNm']"
										},
										"sink": {
											"name": "bidnm",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['bidResult']"
										},
										"sink": {
											"name": "bidresult",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['bsisPreparPc']"
										},
										"sink": {
											"name": "bsispreparpc",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['budgetAmount']"
										},
										"sink": {
											"name": "budgetamount",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['cntrctMth']"
										},
										"sink": {
											"name": "cntrctmth",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['dcsNo']"
										},
										"sink": {
											"name": "dcsno",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['excutTy']"
										},
										"sink": {
											"name": "excutty",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['opengDt']"
										},
										"sink": {
											"name": "opengdt",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['ornt']"
										},
										"sink": {
											"name": "ornt",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['pblancNo']"
										},
										"sink": {
											"name": "pblancno",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['pblancOdr']"
										},
										"sink": {
											"name": "pblancodr",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['pblancSe']"
										},
										"sink": {
											"name": "pblancse",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['scsbidEntrpsBsnmRegistNo']"
										},
										"sink": {
											"name": "scsbidentrpsbsnmregistno",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['scsbidEntrpsCode']"
										},
										"sink": {
											"name": "scsbidentrpscode",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['scsbidEntrpsNm']"
										},
										"sink": {
											"name": "scsbidentrpsnm",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['scsbidLwltRt']"
										},
										"sink": {
											"name": "scsbidlwltrt",
											"type": "String"
										}
									},
									{
										"source": {
											"path": "$['response']['body']['item']['sucbidrDecsnMth']"
										},
										"sink": {
											"name": "sucbidrdecsnmth",
											"type": "String"
										}
									}
								]
							}
						},
						"inputs": [
							{
								"referenceName": "DTS_API_D2B",
								"type": "DatasetReference",
								"parameters": {
									"url": {
										"value": "@concat(pipeline().parameters.service,'?_type=json&demandYear=',variables('demandyear'),'&orntCode=',variables('orntcode'),'&dcsNo=',variables('dcsno'),'&iemNo=',variables('iemno'),'&opengDate=',variables('opengdate'),'&pblancNo=',variables('pblancno'),'&pblancOdr=',variables('pblancodr'))",
										"type": "Expression"
									}
								}
							}
						],
						"outputs": [
							{
								"referenceName": "DTS_POSTGRESQL_SNK_P02",
								"type": "DatasetReference",
								"parameters": {
									"SinkSchema": {
										"value": "@pipeline().parameters.SinkSchema",
										"type": "Expression"
									},
									"SinkTable": {
										"value": "@pipeline().parameters.SinkTable",
										"type": "Expression"
									}
								}
							}
						]
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"parameters": {
					"Apikey": {
						"type": "string",
						"defaultValue": "W26gwh49fADZe9fVLqkaAlzn5IPh6n9jf9FCHkThIs6UDblFv46xFoLaNzl011vFX8daAemoPlw4BubABfFBRg%3D%3D"
					},
					"service": {
						"type": "string",
						"defaultValue": "/openapi/service/BidResultInfoService/getDmstcCmpetBidResultDetail"
					},
					"SinkSchema": {
						"type": "string",
						"defaultValue": "cd_ods"
					},
					"SinkTable": {
						"type": "string",
						"defaultValue": "tb_d2b_competition_bid_result_detail"
					},
					"one_page_row": {
						"type": "string",
						"defaultValue": "1"
					},
					"pipdemandyear": {
						"type": "string"
					},
					"pipdcsno": {
						"type": "string"
					},
					"piporntcode": {
						"type": "string"
					},
					"pipiemno": {
						"type": "string"
					},
					"pipopengdate": {
						"type": "string"
					},
					"pippblancno": {
						"type": "string"
					},
					"pippblancodr": {
						"type": "string"
					}
				},
				"variables": {
					"demandyear": {
						"type": "String"
					},
					"dcsno": {
						"type": "String"
					},
					"orntcode": {
						"type": "String"
					},
					"iemno": {
						"type": "String"
					},
					"opengdate": {
						"type": "String"
					},
					"pblancno": {
						"type": "String"
					},
					"pblancodr": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Industry/외부/방위사업청"
				},
				"annotations": [],
				"lastPublishTime": "2023-01-16T07:55:39Z"
			},
			"dependsOn": []
		}
	]
}